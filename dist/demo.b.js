/*! Your custom banner text goes here */
import{createRequire as e}from"module";var t={713:(e,t,r)=>{const{Transform:s,PassThrough:n}=r(203),o=r(106),i=r(455);e.exports=e=>{const t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;const r="br"===t;if(r&&"function"!=typeof o.createBrotliDecompress)return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let a=!0;const c=new s({transform(e,t,r){a=!1,r(null,e)},flush(e){e()}}),h=new n({autoDestroy:!1,destroy(t,r){e.destroy(),r(t)}}),u=r?o.createBrotliDecompress():o.createUnzip();return u.once("error",(t=>{!a||e.readable?h.destroy(t):h.end()})),i(e,h),e.pipe(c).pipe(u).pipe(h),h}},559:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>{let r;if("function"==typeof t){r={connect:t}}else r=t;const s="function"==typeof r.connect,n="function"==typeof r.secureConnect,o="function"==typeof r.close,i=()=>{s&&r.connect(),function(e){return e.encrypted}(e)&&n&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),o&&e.once("close",r.close)};e.writable&&!e.connecting?i():e.connecting?e.once("connect",i):e.destroyed&&o&&r.close(e._hadError)};t.default=r,e.exports=r,e.exports.default=r},189:(e,t,r)=>{const{PassThrough:s}=r(203);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n="buffer"===r;let o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);const i=new s({objectMode:o});r&&i.setEncoding(r);let a=0;const c=[];return i.on("data",(e=>{c.push(e),o?a=c.length:a+=e.length})),i.getBufferedValue=()=>t?c:n?Buffer.concat(c,a):c.join(""),i.getBufferedLength=()=>a,i}},984:(e,t,r)=>{const{constants:s}=r(181),n=r(203),{promisify:o}=r(23),i=r(189),a=o(n.pipeline);class c extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function h(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:r}=t,n=i(t);return await new Promise(((t,o)=>{const i=e=>{e&&n.getBufferedLength()<=s.MAX_LENGTH&&(e.bufferedData=n.getBufferedValue()),o(e)};(async()=>{try{await a(e,n),t()}catch(e){i(e)}})(),n.on("data",(()=>{n.getBufferedLength()>r&&i(new c)}))})),n.getBufferedValue()}e.exports=h,e.exports.buffer=(e,t)=>h(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>h(e,{...t,array:!0}),e.exports.MaxBufferError=c},577:e=>{const t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),s=new Set([500,502,503,504]),n={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},o={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function i(e){const t=parseInt(e,10);return isFinite(t)?t:0}function a(e){const t={};if(!e)return t;const r=e.trim().split(/,/);for(const e of r){const[r,s]=e.split(/=/,2);t[r.trim()]=void 0===s||s.trim().replace(/^"|"$/g,"")}return t}function c(e){let t=[];for(const r in e){const s=e[r];t.push(!0===s?r:r+"="+s)}if(t.length)return t.join(", ")}e.exports=class{constructor(e,t,{shared:r,cacheHeuristic:s,immutableMinTimeToLive:n,ignoreCargoCult:o,_fromObject:i}={}){if(i)this._fromObject(i);else{if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=!1!==r,this._cacheHeuristic=void 0!==s?s:.1,this._immutableMinTtl=void 0!==n?n:864e5,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=a(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=a(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":c(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),null==t.headers["cache-control"]&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}}now(){return Date.now()}storable(){return!(this._reqcc["no-store"]||!("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())||!r.has(this._status)||this._rescc["no-store"]||this._isShared&&this._rescc.private||this._isShared&&!this._noAuthorization&&!this._allowsStoringAuthenticated()||!(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);const t=a(e.headers["cache-control"]);if(t["no-cache"]||/no-cache/.test(e.headers.pragma))return!1;if(t["max-age"]&&this.age()>t["max-age"])return!1;if(t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"])return!1;if(this.stale()){if(!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))return!1}return this._requestMatches(e,!1)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;const t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const r of t)if(e.headers[r]!==this._reqHeaders[r])return!1;return!0}_copyWithoutHopByHopHeaders(e){const t={};for(const r in e)n[r]||(t[r]=e[r]);if(e.connection){const r=e.connection.trim().split(/\s*,\s*/);for(const e of r)delete t[e]}if(t.warning){const e=t.warning.split(/,/).filter((e=>!/^\s*1[0-9][0-9]/.test(e)));e.length?t.warning=e.join(",").trim():delete t.warning}return t}responseHeaders(){const e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){const e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){return this._ageValue()+(this.now()-this._responseTime)/1e3}_ageValue(){return i(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"])return 0;if(this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)return 0;if("*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return i(this._rescc["s-maxage"])}if(this._rescc["max-age"])return i(this._rescc["max-age"]);const e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){const r=Date.parse(this._resHeaders.expires);return Number.isNaN(r)||r<t?0:Math.max(e,(r-t)/1e3)}if(this._resHeaders["last-modified"]){const r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r)return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}return e}timeToLive(){const e=this.maxAge()-this.age(),t=e+i(this._rescc["stale-if-error"]),r=e+i(this._rescc["stale-while-revalidate"]);return 1e3*Math.max(0,e,t,r)}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+i(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+i(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);const t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag);if(t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){const e=t["if-none-match"].split(/,/).filter((e=>!/^\s*W\//.test(e)));e.length?t["if-none-match"]=e.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&function(e){return!e||s.has(e.status)}(t))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let r=!1;if(void 0!==t.status&&304!=t.status?r=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?r=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?r=this._resHeaders["last-modified"]===t.headers["last-modified"]:this._resHeaders.etag||this._resHeaders["last-modified"]||t.headers.etag||t.headers["last-modified"]||(r=!0),!r)return{policy:new this.constructor(e,t),modified:304!=t.status,matches:!1};const n={};for(const e in this._resHeaders)n[e]=e in t.headers&&!o[e]?t.headers[e]:this._resHeaders[e];const i=Object.assign({},t,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}},445:(e,t,r)=>{const{URL:s}=r(16),n=r(434),o=r(756),i=r(675),a=r(30),c=r(603),h=Symbol("currentStreamCount"),u=Symbol("request"),l=Symbol("cachedOriginSet"),d=Symbol("gracefullyClosing"),p=Symbol("length"),f=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],m=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,y=(e,t)=>{for(let r=0;r<e.length;r++){const s=e[r];s[l].length>0&&s[l].length<t[l].length&&s[l].every((e=>t[l].includes(e)))&&s[h]+t[h]<=t.remoteSettings.maxConcurrentStreams&&w(s)}},g=(e,t)=>{for(let r=0;r<e.length;r++){const s=e[r];if(t[l].length>0&&t[l].length<s[l].length&&t[l].every((e=>s[l].includes(e)))&&t[h]+s[h]<=s.remoteSettings.maxConcurrentStreams)return w(t),!0}return!1},w=e=>{e[d]=!0,0===e[h]&&e.close()};class _ extends n{constructor({timeout:e=0,maxSessions:t=Number.POSITIVE_INFINITY,maxEmptySessions:r=10,maxCachedTlsSessions:s=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=t,this.maxEmptySessions=r,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:33554432},this.tlsSessionCache=new a({maxSize:s})}get protocol(){return"https:"}normalizeOptions(e){let t="";for(let r=0;r<f.length;r++){const s=f[r];t+=":",e&&void 0!==e[s]&&(t+=e[s])}return t}_processQueue(){if(this._sessionCount>=this.maxSessions)this.closeEmptySessions(this.maxSessions-this._sessionCount+1);else for(const e in this.queue)for(const t in this.queue[e]){const r=this.queue[e][t];r.completed||(r.completed=!0,r())}}_isBetterSession(e,t){return e>t}_accept(e,t,r,s){let n=0;for(;n<t.length&&e[h]<e.remoteSettings.maxConcurrentStreams;)t[n].resolve(e),n++;t.splice(0,n),t.length>0&&(this.getSession(r,s,t),t.length=0)}getSession(e,t,r){return new Promise(((n,o)=>{Array.isArray(r)&&r.length>0?(r=[...r],n()):r=[{resolve:n,reject:o}];try{if("string"==typeof e)e=new s(e);else if(!(e instanceof s))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(t){const{servername:r}=t,{hostname:s}=e;if(r&&s!==r)throw new Error(`Origin ${s} differs from servername ${r}`)}}catch(e){for(let t=0;t<r.length;t++)r[t].reject(e);return}const a=this.normalizeOptions(t),c=e.origin;if(a in this.sessions){const e=this.sessions[a];let s,n=-1,o=-1;for(let t=0;t<e.length;t++){const r=e[t],i=r.remoteSettings.maxConcurrentStreams;if(i<n)break;if(!r[l].includes(c))continue;const a=r[h];a>=i||r[d]||r.destroyed||(s||(n=i),this._isBetterSession(a,o)&&(s=r,o=a))}if(s)return void this._accept(s,r,c,t)}if(a in this.queue){if(c in this.queue[a])return void this.queue[a][c].listeners.push(...r)}else this.queue[a]={[p]:0};const f=()=>{a in this.queue&&this.queue[a][c]===w&&(delete this.queue[a][c],0==--this.queue[a][p]&&delete this.queue[a])},w=async()=>{this._sessionCount++;const s=`${c}:${a}`;let n,o=!1;try{const _={...t};void 0===_.settings&&(_.settings=this.settings),void 0===_.session&&(_.session=this.tlsSessionCache.get(s));const b=_.createConnection||this.createConnection;n=await b.call(this,e,_),_.createConnection=()=>n;const v=i.connect(e,_);v[h]=0,v[d]=!1;const E=()=>{const{socket:e}=v;let t;return!1===e.servername?(e.servername=e.remoteAddress,t=v.originSet,e.servername=!1):t=v.originSet,t},S=()=>v[h]<v.remoteSettings.maxConcurrentStreams;v.socket.once("session",(e=>{this.tlsSessionCache.set(s,e)})),v.once("error",(e=>{for(let t=0;t<r.length;t++)r[t].reject(e);this.tlsSessionCache.delete(s)})),v.setTimeout(this.timeout,(()=>{v.destroy()})),v.once("close",(()=>{if(this._sessionCount--,o){this._emptySessionCount--;const e=this.sessions[a];1===e.length?delete this.sessions[a]:e.splice(e.indexOf(v),1)}else{f();const e=new Error("Session closed without receiving a SETTINGS frame");e.code="HTTP2WRAPPER_NOSETTINGS";for(let t=0;t<r.length;t++)r[t].reject(e)}this._processQueue()}));const T=()=>{const e=this.queue[a];if(!e)return;const t=v[l];for(let r=0;r<t.length;r++){const s=t[r];if(s in e){const{listeners:t,completed:r}=e[s];let n=0;for(;n<t.length&&S();)t[n].resolve(v),n++;if(e[s].listeners.splice(0,n),0===e[s].listeners.length&&!r&&(delete e[s],0==--e[p])){delete this.queue[a];break}if(!S())break}}};v.on("origin",(()=>{v[l]=E()||[],v[d]=!1,g(this.sessions[a],v),!v[d]&&S()&&(T(),S()&&y(this.sessions[a],v))})),v.once("remoteSettings",(()=>{if(w.destroyed){const e=new Error("Agent has been destroyed");for(let t=0;t<r.length;t++)r[t].reject(e);v.destroy()}else{if(v.setLocalWindowSize&&v.setLocalWindowSize(4194304),v[l]=E()||[],v.socket.encrypted){const e=v[l][0];if(e!==c){const t=new Error(`Requested origin ${c} does not match server ${e}`);for(let e=0;e<r.length;e++)r[e].reject(t);return void v.destroy()}}f();{const e=this.sessions;if(a in e){const t=e[a];t.splice(((e,t,r)=>{let s=0,n=e.length;for(;s<n;){const o=s+n>>>1;r(e[o],t)?s=o+1:n=o}return s})(t,v,m),0,v)}else e[a]=[v]}o=!0,this._emptySessionCount++,this.emit("session",v),this._accept(v,r,c,t),0===v[h]&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),v.on("remoteSettings",(()=>{S()&&(T(),S()&&y(this.sessions[a],v))}))}})),v[u]=v.request,v.request=(e,t)=>{if(v[d])throw new Error("The session is gracefully closing. No new streams are allowed.");const r=v[u](e,t);return v.ref(),0==v[h]++&&this._emptySessionCount--,r.once("close",(()=>{0==--v[h]&&(this._emptySessionCount++,v.unref(),this._emptySessionCount>this.maxEmptySessions||v[d])?v.close():v.destroyed||v.closed||S()&&!g(this.sessions[a],v)&&(y(this.sessions[a],v),T(),0===v[h]&&this._processQueue())})),r}}catch(e){f(),this._sessionCount--;for(let t=0;t<r.length;t++)r[t].reject(e)}};w.listeners=r,w.completed=!1,w.destroyed=!1,this.queue[a][c]=w,this.queue[a][p]++,this._processQueue()}))}request(e,t,r,s){return new Promise(((n,o)=>{this.getSession(e,t,[{reject:o,resolve:e=>{try{const t=e.request(r,s);c(t),n(t)}catch(e){o(e)}}}])}))}async createConnection(e,t){return _.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];const r=e.port||443,s=e.hostname;void 0===t.servername&&(t.servername=s);const n=o.connect(r,s,t);return t.socket&&(n._peername={family:void 0,address:void 0,port:r}),n}closeEmptySessions(e=Number.POSITIVE_INFINITY){let t=0;const{sessions:r}=this;for(const s in r){const n=r[s];for(let r=0;r<n.length;r++){const s=n[r];if(0===s[h]&&(t++,s.close(),t>=e))return t}}return t}destroy(e){const{sessions:t,queue:r}=this;for(const r in t){const s=t[r];for(let t=0;t<s.length;t++)s[t].destroy(e)}for(const e in r){const t=r[e];for(const e in t)t[e].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}}_.kCurrentStreamCount=h,_.kGracefullyClosing=d,e.exports={Agent:_,globalAgent:new _}},629:(e,t,r)=>{const{URL:s,urlToHttpOptions:n}=r(16),o=r(611),i=r(692),a=r(315),c=r(30),{Agent:h,globalAgent:u}=r(445),l=r(941),d=r(618),p=r(603),f=new c({maxSize:100}),m=new Map,y=(e,t=new Map,r=void 0)=>async s=>{const n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!e.has(n)){if(t.has(n)){return{alpnProtocol:(await t.get(n)).alpnProtocol}}const{path:o}=s;s.path=s.socketPath;const i=a(s,r);t.set(n,i);try{const r=await i;return e.set(n,r.alpnProtocol),t.delete(n),s.path=o,r}catch(e){throw t.delete(n),s.path=o,e}}return{alpnProtocol:e.get(n)}},g=y(f,m);e.exports=async(e,t,r)=>{if(e="string"==typeof e?n(new s(e)):e instanceof s?n(e):{...e},"function"==typeof t||void 0===t?(r=t,t=e):t=Object.assign(e,t),t.ALPNProtocols=t.ALPNProtocols||["h2","http/1.1"],!Array.isArray(t.ALPNProtocols)||0===t.ALPNProtocols.length)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";const a="https:"===t.protocol;t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||d(t.headers&&t.headers.host||t.host),t.port=t.port||(a?443:80),t._defaultAgent=a?i.globalAgent:o.globalAgent;const c=t.resolveProtocol||g;let{agent:f}=t;if(void 0!==f&&!1!==f&&"Object"!==f.constructor.name)throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(a){t.resolveSocket=!0;let{socket:e,alpnProtocol:s,timeout:n}=await c(t);if(n){e&&e.destroy();const r=new Error(`Timed out resolving ALPN: ${t.timeout} ms`);throw r.code="ETIMEDOUT",r.ms=t.timeout,r}e&&t.createConnection&&(e.destroy(),e=void 0),delete t.resolveSocket;const o="h2"===s;if(f&&(f=o?f.http2:f.https,t.agent=f),void 0===f&&(f=o?u:i.globalAgent),e)if(!1===f)e.destroy();else{const r=(o?h:i.Agent).prototype.createConnection;f.createConnection===r?o?t._reuseSocket=e:((e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};const s=()=>{e.emit("free",t,r)};t.on("free",s);const n=()=>{e.removeSocket(t,r)};t.on("close",n);const o=()=>{const{freeSockets:r}=e;for(const e of Object.values(r))if(e.includes(t))return void t.destroy()};t.on("timeout",o);const i=()=>{e.removeSocket(t,r),t.off("close",n),t.off("free",s),t.off("timeout",o),t.off("agentRemove",i)};t.on("agentRemove",i),e.emit("free",t,r)})(f,e,t):e.destroy()}if(o)return p(new l(t,r))}else f&&(t.agent=f.http);return t.headers&&(t.headers={...t.headers},t.headers[":authority"]&&(t.headers.host||(t.headers.host=t.headers[":authority"]),delete t.headers[":authority"]),delete t.headers[":method"],delete t.headers[":scheme"],delete t.headers[":path"]),p(o.request(t,r))},e.exports.protocolCache=f,e.exports.resolveProtocol=g,e.exports.createResolveProtocol=y},941:(e,t,r)=>{const{URL:s,urlToHttpOptions:n}=r(16),o=r(675),{Writable:i}=r(203),{Agent:a,globalAgent:c}=r(445),h=r(996),u=r(726),{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_PROTOCOL:d,ERR_HTTP_HEADERS_SENT:p}=r(347),f=r(636),m=r(230),y=r(155),{HTTP2_HEADER_STATUS:g,HTTP2_HEADER_METHOD:w,HTTP2_HEADER_PATH:_,HTTP2_HEADER_AUTHORITY:b,HTTP2_METHOD_CONNECT:v}=o.constants,E=Symbol("headers"),S=Symbol("origin"),T=Symbol("session"),x=Symbol("options"),k=Symbol("flushedHeaders"),C=Symbol("jobs"),O=Symbol("pendingAgentPromise");e.exports=class extends i{constructor(e,t,r){if(super({autoDestroy:!1,emitClose:!1}),e="string"==typeof e?n(new s(e)):e instanceof s?n(e):{...e},"function"==typeof t||void 0===t?(r=t,t=e):t=Object.assign(e,t),t.h2session){if(this[T]=t.h2session,this[T].destroyed)throw new Error("The session has been closed already");this.protocol=this[T].socket.encrypted?"https:":"http:"}else if(!1===t.agent)this.agent=new a({maxEmptySessions:0});else if(void 0===t.agent||null===t.agent)this.agent=c;else{if("function"!=typeof t.agent.request)throw new l("options.agent",["http2wrapper.Agent-like Object","undefined","false"],t.agent);this.agent=t.agent}if(this.agent&&(this.protocol=this.agent.protocol),t.protocol&&t.protocol!==this.protocol)throw new d(t.protocol,this.protocol);t.port||(t.port=t.defaultPort||this.agent&&this.agent.defaultPort||443),t.host=t.hostname||t.host||"localhost",delete t.hostname;const{timeout:o}=t;t.timeout=void 0,this[E]=Object.create(null),this[C]=[],this[O]=void 0,this.socket=null,this.connection=null,this.method=t.method||"GET",("CONNECT"!==this.method||"/"!==t.path&&void 0!==t.path)&&(this.path=t.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;const{headers:i}=t;if(i)for(const e in i)this.setHeader(e,i[e]);t.auth&&!("authorization"in this[E])&&(this[E].authorization="Basic "+Buffer.from(t.auth).toString("base64")),t.session=t.tlsSession,t.path=t.socketPath,this[x]=t,this[S]=new s(`${this.protocol}//${t.servername||t.host}:${t.port}`);const h=t._reuseSocket;h&&(t.createConnection=(...e)=>h.destroyed?this.agent.createConnection(...e):h,this.agent.getSession(this[S],this[x]).catch((()=>{}))),o&&this.setTimeout(o),r&&this.once("response",r),this[k]=!1}get method(){return this[E][w]}set method(e){e&&(this[E][w]=e.toUpperCase())}get path(){const e="CONNECT"===this.method?b:_;return this[E][e]}set path(e){if(e){const t="CONNECT"===this.method?b:_;this[E][t]=e}}get host(){return this[S].hostname}set host(e){}get _mustNotHaveABody(){return"GET"===this.method||"HEAD"===this.method||"DELETE"===this.method}_write(e,t,r){if(this._mustNotHaveABody)return void r(new Error("The GET, HEAD and DELETE methods must NOT have a body"));this.flushHeaders();const s=()=>this._request.write(e,t,r);this._request?s():this[C].push(s)}_final(e){this.flushHeaders();const t=()=>{this._mustNotHaveABody||"CONNECT"===this.method?e():this._request.end(e)};this._request?t():this[C].push(t)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick((()=>this.emit("abort"))),this.aborted=!0,this.destroy())}async _destroy(e,t){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick((()=>{this.emit("close")}));try{await this[O]}catch(t){this.aborted&&(e=t)}t(e)}async flushHeaders(){if(this[k]||this.destroyed)return;this[k]=!0;const e=this.method===v,t=t=>{if(this._request=t,this.destroyed)return void t.destroy();e||u(t,this,["timeout","continue"]),t.once("error",(e=>{this.destroy(e)})),t.once("aborted",(()=>{const{res:e}=this;e?(e.aborted=!0,e.emit("aborted"),e.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))}));const r=(r,s,n)=>{const o=new h(this.socket,t.readableHighWaterMark);this.res=o,o.url=`${this[S].origin}${this.path}`,o.req=this,o.statusCode=r[g],o.headers=r,o.rawHeaders=n,o.once("end",(()=>{o.complete=!0,o.socket=null,o.connection=null})),e?(o.upgrade=!0,this.emit("connect",o,t,Buffer.alloc(0))?this.emit("close"):t.destroy()):(t.on("data",(e=>{o._dumped||o.push(e)||t.pause()})),t.once("end",(()=>{this.aborted||o.push(null)})),this.emit("response",o)||o._dump())};t.once("response",r),t.once("headers",(e=>this.emit("information",{statusCode:e[g]}))),t.once("trailers",((e,t,s)=>{const{res:n}=this;null!==n?(n.trailers=e,n.rawTrailers=s):r(e,0,s)})),t.once("close",(()=>{const{aborted:e,res:t}=this;if(t){e&&(t.aborted=!0,t.emit("aborted"),t.destroy());const r=()=>{t.emit("close"),this.destroy(),this.emit("close")};t.readable?t.once("end",r):r()}else{if(!this.destroyed)return this.destroy(new Error("The HTTP/2 stream has been early terminated")),void this.emit("close");this.destroy(),this.emit("close")}})),this.socket=new Proxy(t,y);for(const e of this[C])e();this[C].length=0,this.emit("socket",this.socket)};if(b in this[E]||e||(this[E][b]=this[S].host),this[T])try{t(this[T].request(this[E]))}catch(e){this.destroy(e)}else{this.reusedSocket=!0;try{const e=this.agent.request(this[S],this[x],this[E]);this[O]=e,t(await e),this[O]=!1}catch(e){this[O]=!1,this.destroy(e)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[E])}hasHeader(e){if("string"!=typeof e)throw new l("name","string",e);return Boolean(this[E][e.toLowerCase()])}getHeader(e){if("string"!=typeof e)throw new l("name","string",e);return this[E][e.toLowerCase()]}get headersSent(){return this[k]}removeHeader(e){if("string"!=typeof e)throw new l("name","string",e);if(this.headersSent)throw new p("remove");delete this[E][e.toLowerCase()]}setHeader(e,t){if(this.headersSent)throw new p("set");f(e),m(e,t);const r=e.toLowerCase();if("connection"===r){if("keep-alive"===t.toLowerCase())return;throw new Error(`Invalid 'connection' header: ${t}`)}"host"===r&&"CONNECT"===this.method?this[E][b]=t:this[E][r]=t}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){const r=()=>this._request.setTimeout(e,t);return this._request?r():this[C].push(r),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}}},996:(e,t,r)=>{const{Readable:s}=r(203);e.exports=class extends s{constructor(e,t){super({emitClose:!1,autoDestroy:!0,highWaterMark:t}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,t){this.readableEnded||(this.aborted=!0),t(),this.req._request.destroy(e)}setTimeout(e,t){return this.req.setTimeout(e,t),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}}},716:(e,t,r)=>{const s=r(675),{Agent:n,globalAgent:o}=r(445),i=r(941),a=r(996),c=r(629),{HttpOverHttp2:h,HttpsOverHttp2:u}=r(734),l=r(3),{Http2OverHttp:d,Http2OverHttps:p}=r(534),f=r(636),m=r(230);e.exports={...s,ClientRequest:i,IncomingMessage:a,Agent:n,globalAgent:o,request:(e,t,r)=>new i(e,t,r),get:(e,t,r)=>{const s=new i(e,t,r);return s.end(),s},auto:c,proxies:{HttpOverHttp2:h,HttpsOverHttp2:u,Http2OverHttp2:l,Http2OverHttp:d,Http2OverHttps:p},validateHeaderName:f,validateHeaderValue:m}},789:e=>{e.exports=e=>{const{username:t,password:r}=e.proxyOptions.url;if(t||r){const e=`${t}:${r}`,s=`Basic ${Buffer.from(e).toString("base64")}`;return{"proxy-authorization":s,authorization:s}}return{}}},734:(e,t,r)=>{const s=r(756),n=r(611),o=r(692),i=r(712),{globalAgent:a}=r(445),c=r(546),h=r(89),u=r(789),l=(e,t,r)=>{(async()=>{try{const{proxyOptions:n}=e,{url:h,headers:l,raw:d}=n,p=await a.request(h,n,{...u(e),...l,":method":"CONNECT",":authority":`${t.host}:${t.port}`});p.once("error",r),p.once("response",(n=>{const a=n[":status"];if(200!==a)return void r(new c(a,""));const h=e instanceof o.Agent;if(d&&h){t.socket=p;const e=s.connect(t);return e.once("close",(()=>{p.destroy()})),void r(null,e)}const u=new i(p);u.encrypted=!1,u._handle.getpeername=e=>{e.family=void 0,e.address=void 0,e.port=void 0},r(null,u)}))}catch(e){r(e)}})()};class d extends n.Agent{constructor(e){super(e),h(this,e.proxyOptions)}createConnection(e,t){l(this,e,t)}}class p extends o.Agent{constructor(e){super(e),h(this,e.proxyOptions)}createConnection(e,t){l(this,e,t)}}e.exports={HttpOverHttp2:d,HttpsOverHttp2:p}},534:(e,t,r)=>{const s=r(611),n=r(692),o=r(469),i=r(789);class a extends o{async _getProxyStream(e){const{proxyOptions:t}=this,{url:r,headers:o}=this.proxyOptions;return(e=>new Promise(((t,r)=>{e.once("error",r),e.once("connect",((s,n,o)=>{n.unshift(o),e.off("error",r),t([n,s.statusCode,s.statusMessage])}))})))(("https:"===r.protocol?n:s).request({...t,hostname:r.hostname,port:r.port,path:e,headers:{...i(this),...o,host:e},method:"CONNECT"}).end())}}e.exports={Http2OverHttp:a,Http2OverHttps:a}},3:(e,t,r)=>{const{globalAgent:s}=r(445),n=r(469),o=r(789);e.exports=class extends n{async _getProxyStream(e){const{proxyOptions:t}=this,r={...o(this),...t.headers,":method":"CONNECT",":authority":e},n=await s.request(t.url,t,r),i=await(e=>new Promise(((t,r)=>{e.once("error",r),e.once("response",(s=>{e.off("error",r),t(s[":status"])}))})))(n);return[n,i,""]}}},469:(e,t,r)=>{const{Agent:s}=r(445),n=r(712),o=r(546),i=r(89);e.exports=class extends s{constructor(e){super(e),i(this,e.proxyOptions)}async createConnection(e,t){const r=`${e.hostname}:${e.port||443}`,[s,i,a]=await this._getProxyStream(r);if(200!==i)throw new o(i,a);if(!this.proxyOptions.raw){const e=new n(s);return e.encrypted=!1,e._handle.getpeername=e=>{e.family=void 0,e.address=void 0,e.port=void 0},e}return t.socket=s,super.createConnection(e,t)}}},89:(e,t,r)=>{const{URL:s}=r(16),n=r(379);e.exports=(e,t)=>{n("proxyOptions",t,["object"]),n("proxyOptions.headers",t.headers,["object","undefined"]),n("proxyOptions.raw",t.raw,["boolean","undefined"]),n("proxyOptions.url",t.url,[s,"string"]);const r=new s(t.url);e.proxyOptions={raw:!0,...t,headers:{...t.headers},url:r}}},546:e=>{class t extends Error{constructor(e,t=""){super(`The proxy server rejected the request with status code ${e} (${t||"empty status message"})`),this.statusCode=e,this.statusMessage=t}}e.exports=t},618:(e,t,r)=>{const{isIP:s}=r(278),n=r(613);e.exports=e=>{const t=(e=>{if("["===e[0]){const t=e.indexOf("]");return n(-1!==t),e.slice(1,t)}const t=e.indexOf(":");return-1===t?e:e.slice(0,t)})(e);return s(t)?"":t}},379:e=>{e.exports=(e,t,r)=>{if(!r.some((e=>"string"===typeof e?typeof t===e:t instanceof e))){const s=r.map((e=>"string"==typeof e?e:e.name));throw new TypeError(`Expected '${e}' to be a type of ${s.join(" or ")}, got ${typeof t}`)}}},603:e=>{e.exports=e=>{if(0!==e.listenerCount("error"))return e;e.__destroy=e._destroy,e._destroy=(...t)=>{const r=t.pop();e.__destroy(...t,(async e=>{await Promise.resolve(),r(e)}))};const t=t=>{Promise.resolve().then((()=>{e.emit("error",t)}))};return e.once("error",t),Promise.resolve().then((()=>{e.off("error",t)})),e}},347:e=>{const t=(t,r,s)=>{e.exports[r]=class extends t{constructor(...e){super("string"==typeof s?s:s(e)),this.name=`${super.name} [${r}]`,this.code=r}}};t(TypeError,"ERR_INVALID_ARG_TYPE",(e=>{const t=e[0].includes(".")?"property":"argument";let r=e[1];const s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${s?"one of":"of"} type ${r}. Received ${typeof e[2]}`})),t(TypeError,"ERR_INVALID_PROTOCOL",(e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`)),t(Error,"ERR_HTTP_HEADERS_SENT",(e=>`Cannot ${e[0]} headers after they are sent to the client`)),t(TypeError,"ERR_INVALID_HTTP_TOKEN",(e=>`${e[0]} must be a valid HTTP token [${e[1]}]`)),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(e=>`Invalid value "${e[0]} for header "${e[1]}"`)),t(TypeError,"ERR_INVALID_CHAR",(e=>`Invalid character in ${e[0]} [${e[1]}]`)),t(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")},141:e=>{e.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}},712:(e,t,r)=>{const s=r(203),n=new(r(756).TLSSocket)(new s.PassThrough)._handle._parentWrap.constructor;e.exports=n},726:e=>{e.exports=(e,t,r)=>{for(const s of r)e.on(s,((...e)=>t.emit(s,...e)))}},155:(e,t,r)=>{const{ERR_HTTP2_NO_SOCKET_MANIPULATION:s}=r(347),n={has(e,t){const r=void 0===e.session?e:e.session.socket;return t in e||t in r},get(e,t){switch(t){case"on":case"once":case"end":case"emit":case"destroy":return e[t].bind(e);case"writable":case"destroyed":return e[t];case"readable":return!e.destroyed&&e.readable;case"setTimeout":{const{session:t}=e;return void 0!==t?t.setTimeout.bind(t):e.setTimeout.bind(e)}case"write":case"read":case"pause":case"resume":throw new s;default:{const r=void 0===e.session?e:e.session.socket,s=r[t];return"function"==typeof s?s.bind(r):s}}},getPrototypeOf:e=>void 0!==e.session?Reflect.getPrototypeOf(e.session.socket):Reflect.getPrototypeOf(e),set(e,t,r){switch(t){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return e[t]=r,!0;case"setTimeout":{const{session:t}=e;return void 0===t?e.setTimeout=r:t.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new s;default:return(void 0===e.session?e:e.session.socket)[t]=r,!0}}};e.exports=n},636:(e,t,r)=>{const{ERR_INVALID_HTTP_TOKEN:s}=r(347),n=r(141),o=/^[\^`\-\w!#$%&*+.|~]+$/;e.exports=e=>{if("string"!=typeof e||!o.test(e)&&!n(e))throw new s("Header name",e)}},230:(e,t,r)=>{const{ERR_HTTP_INVALID_HEADER_VALUE:s,ERR_INVALID_CHAR:n}=r(347),o=/[^\t\u0020-\u007E\u0080-\u00FF]/;e.exports=(e,t)=>{if(void 0===t)throw new s(t,e);if(o.test(t))throw new n("header content",e)}},913:(e,t)=>{t.stringify=function e(t){if(void 0===t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&"object"==typeof t){var r="",s=Array.isArray(t);r=s?"[":"{";var n=!0;for(var o in t){var i="function"==typeof t[o]||!s&&void 0===t[o];Object.hasOwnProperty.call(t,o)&&!i&&(n||(r+=","),n=!1,s?null==t[o]?r+="null":r+=e(t[o]):void 0!==t[o]&&(r+=e(o)+":"+e(t[o])))}return r+=s?"]":"}"}return"string"==typeof t?JSON.stringify(/^:/.test(t)?":"+t:t):void 0===t?"null":JSON.stringify(t)},t.parse=function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t?/^:base64:/.test(t)?Buffer.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t}))}},15:(e,t,r)=>{const s=r(434),n=r(913),o=["sqlite","postgres","mysql","mongo","redis","tiered"];e.exports=class extends s{constructor(e,{emitErrors:t=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:n.stringify,deserialize:n.parse,..."string"==typeof e?{uri:e}:e,...s},!this.opts.store){const e={...this.opts};this.opts.store=(e=>{const t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){const s=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(r(666)(t[s]))(e)}return new Map})(e)}if(this.opts.compression){const e=this.opts.compression;this.opts.serialize=e.serialize.bind(e),this.opts.deserialize=e.deserialize.bind(e)}"function"==typeof this.opts.store.on&&t&&this.opts.store.on("error",(e=>this.emit("error",e))),this.opts.store.namespace=this.opts.namespace;const o=e=>async function*(){for await(const[t,r]of"function"==typeof e?e(this.opts.store.namespace):e){const e=await this.opts.deserialize(r);this.opts.store.namespace&&!t.includes(this.opts.store.namespace)||("number"==typeof e.expires&&Date.now()>e.expires?this.delete(t):yield[this._getKeyUnprefix(t),e.value])}};"function"==typeof this.opts.store[Symbol.iterator]&&this.opts.store instanceof Map?this.iterator=o(this.opts.store):"function"==typeof this.opts.store.iterator&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=o(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return o.includes(this.opts.store.opts.dialect)||o.findIndex((e=>this.opts.store.opts.url.includes(e)))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map((e=>`${this.opts.namespace}:${e}`))}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){const{store:r}=this.opts,s=Array.isArray(e),n=s?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(s&&void 0===r.getMany){const e=[];for(const s of n)e.push(Promise.resolve().then((()=>r.get(s))).then((e=>"string"==typeof e||this.opts.compression?this.opts.deserialize(e):e)).then((e=>{if(null!=e)return"number"==typeof e.expires&&Date.now()>e.expires?this.delete(s).then((()=>{})):t&&t.raw?e:e.value})));return Promise.allSettled(e).then((e=>{const t=[];for(const r of e)t.push(r.value);return t}))}return Promise.resolve().then((()=>s?r.getMany(n):r.get(n))).then((e=>"string"==typeof e||this.opts.compression?this.opts.deserialize(e):e)).then((r=>{if(null!=r)return s?r.map(((r,s)=>{if("string"==typeof r&&(r=this.opts.deserialize(r)),null!=r){if(!("number"==typeof r.expires&&Date.now()>r.expires))return t&&t.raw?r:r.value;this.delete(e[s]).then((()=>{}))}})):"number"==typeof r.expires&&Date.now()>r.expires?this.delete(e).then((()=>{})):t&&t.raw?r:r.value}))}set(e,t,r){const s=this._getKeyPrefix(e);void 0===r&&(r=this.opts.ttl),0===r&&(r=void 0);const{store:n}=this.opts;return Promise.resolve().then((()=>{const e="number"==typeof r?Date.now()+r:null;return"symbol"==typeof t&&this.emit("error","symbol cannot be serialized"),t={value:t,expires:e},this.opts.serialize(t)})).then((e=>n.set(s,e,r))).then((()=>!0))}delete(e){const{store:t}=this.opts;if(Array.isArray(e)){const r=this._getKeyPrefixArray(e);if(void 0===t.deleteMany){const e=[];for(const s of r)e.push(t.delete(s));return Promise.allSettled(e).then((e=>e.every((e=>!0===e.value))))}return Promise.resolve().then((()=>t.deleteMany(r)))}const r=this._getKeyPrefix(e);return Promise.resolve().then((()=>t.delete(r)))}clear(){const{store:e}=this.opts;return Promise.resolve().then((()=>e.clear()))}has(e){const t=this._getKeyPrefix(e),{store:r}=this.opts;return Promise.resolve().then((async()=>{if("function"==typeof r.has)return r.has(t);return void 0!==await r.get(t)}))}disconnect(){const{store:e}=this.opts;if("function"==typeof e.disconnect)return e.disconnect()}}},666:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=666,e.exports=t},455:e=>{const t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,r)=>{if(r._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");const s=new Set(Object.keys(e).concat(t)),n={};for(const t of s)t in r||(n[t]={get(){const r=e[t];return"function"==typeof r?r.bind(e):r},set(r){e[t]=r},enumerable:!0,configurable:!1});return Object.defineProperties(r,n),e.once("aborted",(()=>{r.destroy(),r.emit("aborted")})),e.once("close",(()=>{e.complete&&r.readable?r.once("end",(()=>{r.emit("close")})):r.emit("close")})),r}},30:e=>{class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},315:(e,t,r)=>{const s=r(756);e.exports=(e={},t=s.connect)=>new Promise(((r,s)=>{let n,o=!1;const i=async()=>{await c,n.off("timeout",a),n.off("error",s),e.resolveSocket?(r({alpnProtocol:n.alpnProtocol,socket:n,timeout:o}),o&&(await Promise.resolve(),n.emit("timeout"))):(n.destroy(),r({alpnProtocol:n.alpnProtocol,timeout:o}))},a=async()=>{o=!0,i()},c=(async()=>{try{n=await t(e,i),n.on("error",s),n.once("timeout",a)}catch(e){s(e)}})()}))},613:t=>{t.exports=e(import.meta.url)("assert")},181:t=>{t.exports=e(import.meta.url)("buffer")},434:t=>{t.exports=e(import.meta.url)("events")},611:t=>{t.exports=e(import.meta.url)("http")},675:t=>{t.exports=e(import.meta.url)("http2")},692:t=>{t.exports=e(import.meta.url)("https")},278:t=>{t.exports=e(import.meta.url)("net")},203:t=>{t.exports=e(import.meta.url)("stream")},756:t=>{t.exports=e(import.meta.url)("tls")},16:t=>{t.exports=e(import.meta.url)("url")},23:t=>{t.exports=e(import.meta.url)("util")},106:t=>{t.exports=e(import.meta.url)("zlib")}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const t=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];const r=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...t];const n=["null","undefined","string","number","bigint","boolean","symbol"];const o=e=>{const t=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(t)&&G(e)?"HTMLElement":(s=t,r.includes(s)?t:void 0);var s};function i(e){if(null===e)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(ge(e))return"Observable";if(l(e))return"Array";if(T(e))return"Buffer";const t=o(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}const a=Object.assign(i,{all:h,any:u,array:l,arrayBuffer:d,arrayLike:p,asyncFunction:f,asyncGenerator:m,asyncGeneratorFunction:y,asyncIterable:g,bigint:w,bigInt64Array:_,bigUint64Array:b,blob:v,boolean:E,boundFunction:S,buffer:T,class:x,class_:x,dataView:k,date:C,detect:i,directInstanceOf:O,domElement:G,emptyArray:A,emptyMap:R,emptyObject:P,emptySet:j,emptyString:H,emptyStringOrWhitespace:N,enumCase:I,error:L,evenInteger:q,falsy:U,float32Array:$,float64Array:D,formData:z,function:B,function_:B,generator:M,generatorFunction:F,htmlElement:G,infinite:J,inRange:K,int16Array:Q,int32Array:X,int8Array:Y,integer:Z,iterable:ee,map:te,nan:re,nativePromise:se,negativeNumber:ne,nodeStream:oe,nonEmptyArray:ie,nonEmptyMap:ae,nonEmptyObject:ce,nonEmptySet:he,nonEmptyString:ue,nonEmptyStringAndNotWhitespace:le,null:de,null_:de,nullOrUndefined:pe,number:fe,numericString:me,object:ye,observable:ge,oddInteger:we,plainObject:_e,positiveNumber:be,primitive:ve,promise:Ee,propertyKey:Se,regExp:Te,safeInteger:xe,set:ke,sharedArrayBuffer:Ce,string:Oe,symbol:Ae,truthy:Re,tupleLike:Pe,typedArray:je,uint16Array:He,uint32Array:Ne,uint8Array:Ie,uint8ClampedArray:Le,undefined:qe,urlInstance:Ue,urlSearchParams:$e,urlString:De,validLength:ze,weakMap:Be,weakRef:Me,weakSet:Fe,whitespaceString:We});function c(e){return t=>Z(t)&&Math.abs(t%2)===e}function h(e,...t){return Ve(Array.prototype.every,e,t)}function u(e,...t){return(l(e)?e:[e]).some((e=>Ve(Array.prototype.some,e,t)))}function l(e,t){return!!Array.isArray(e)&&(!B(t)||e.every((e=>t(e))))}function d(e){return"ArrayBuffer"===o(e)}function p(e){return!pe(e)&&!B(e)&&ze(e.length)}function f(e){return"AsyncFunction"===o(e)}function m(e){return g(e)&&B(e.next)&&B(e.throw)}function y(e){return"AsyncGeneratorFunction"===o(e)}function g(e){return B(e?.[Symbol.asyncIterator])}function w(e){return"bigint"==typeof e}function _(e){return"BigInt64Array"===o(e)}function b(e){return"BigUint64Array"===o(e)}function v(e){return"Blob"===o(e)}function E(e){return!0===e||!1===e}function S(e){return B(e)&&!Object.prototype.hasOwnProperty.call(e,"prototype")}function T(e){return e?.constructor?.isBuffer?.(e)??!1}function x(e){return B(e)&&e.toString().startsWith("class ")}function k(e){return"DataView"===o(e)}function C(e){return"Date"===o(e)}function O(e,t){return null!=e&&Object.getPrototypeOf(e)===t.prototype}function A(e){return l(e)&&0===e.length}function R(e){return te(e)&&0===e.size}function P(e){return ye(e)&&!te(e)&&!ke(e)&&0===Object.keys(e).length}function j(e){return ke(e)&&0===e.size}function H(e){return Oe(e)&&0===e.length}function N(e){return H(e)||We(e)}function I(e,t){return Object.values(t).includes(e)}function L(e){return"Error"===o(e)}function q(e){return c(0)(e)}function U(e){return!e}function $(e){return"Float32Array"===o(e)}function D(e){return"Float64Array"===o(e)}function z(e){return"FormData"===o(e)}function B(e){return"function"==typeof e}function M(e){return ee(e)&&B(e?.next)&&B(e?.throw)}function F(e){return"GeneratorFunction"===o(e)}const W=1,V=["innerHTML","ownerDocument","style","attributes","nodeValue"];function G(e){return ye(e)&&e.nodeType===W&&Oe(e.nodeName)&&!_e(e)&&V.every((t=>t in e))}function J(e){return e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY}function K(e,t){if(fe(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(l(t)&&2===t.length)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)}function Q(e){return"Int16Array"===o(e)}function X(e){return"Int32Array"===o(e)}function Y(e){return"Int8Array"===o(e)}function Z(e){return Number.isInteger(e)}function ee(e){return B(e?.[Symbol.iterator])}function te(e){return"Map"===o(e)}function re(e){return Number.isNaN(e)}function se(e){return"Promise"===o(e)}function ne(e){return fe(e)&&e<0}function oe(e){return ye(e)&&B(e.pipe)&&!ge(e)}function ie(e){return l(e)&&e.length>0}function ae(e){return te(e)&&e.size>0}function ce(e){return ye(e)&&!te(e)&&!ke(e)&&Object.keys(e).length>0}function he(e){return ke(e)&&e.size>0}function ue(e){return Oe(e)&&e.length>0}function le(e){return Oe(e)&&!N(e)}function de(e){return null===e}function pe(e){return de(e)||qe(e)}function fe(e){return"number"==typeof e&&!Number.isNaN(e)}function me(e){return Oe(e)&&!N(e)&&!Number.isNaN(Number(e))}function ye(e){return!de(e)&&("object"==typeof e||B(e))}function ge(e){return!!e&&(e===e[Symbol.observable]?.()||e===e["@@observable"]?.())}function we(e){return c(1)(e)}function _e(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function be(e){return fe(e)&&e>0}function ve(e){return de(e)||(t=typeof e,n.includes(t));var t}function Ee(e){return se(e)||function(e){return B(e?.then)&&B(e?.catch)}(e)}function Se(e){return u([Oe,fe,Ae],e)}function Te(e){return"RegExp"===o(e)}function xe(e){return Number.isSafeInteger(e)}function ke(e){return"Set"===o(e)}function Ce(e){return"SharedArrayBuffer"===o(e)}function Oe(e){return"string"==typeof e}function Ae(e){return"symbol"==typeof e}function Re(e){return Boolean(e)}function Pe(e,t){return!(!l(t)||!l(e)||t.length!==e.length)&&t.every(((t,r)=>t(e[r])))}function je(e){return r=o(e),t.includes(r);var r}function He(e){return"Uint16Array"===o(e)}function Ne(e){return"Uint32Array"===o(e)}function Ie(e){return"Uint8Array"===o(e)}function Le(e){return"Uint8ClampedArray"===o(e)}function qe(e){return void 0===e}function Ue(e){return"URL"===o(e)}function $e(e){return"URLSearchParams"===o(e)}function De(e){if(!Oe(e))return!1;try{return new URL(e),!0}catch{return!1}}function ze(e){return xe(e)&&e>=0}function Be(e){return"WeakMap"===o(e)}function Me(e){return"WeakRef"===o(e)}function Fe(e){return"WeakSet"===o(e)}function We(e){return Oe(e)&&/^\s+$/.test(e)}function Ve(e,t,r){if(!B(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(0===r.length)throw new TypeError("Invalid number of values");return e.call(r,t)}function Ge(e,t){return`Expected value which is \`${e}\`, received value of type \`${a(t)}\`.`}function Je(e){return Array.from(new Set(e))}const Ke=new Intl.ListFormat("en",{style:"long",type:"conjunction"}),Qe=new Intl.ListFormat("en",{style:"long",type:"disjunction"});function Xe(e,t){const r=Je((l(e)?e:[e]).map((e=>`\`${e}\``))),s=Je(t.map((e=>`\`${a(e)}\``)));return`Expected values which are ${Qe.format(r)}. Received values of type${s.length>1?"s":""} ${Ke.format(s)}.`}const Ye={all:function(e,...t){if(!h(e,...t)){const r=rt(e.name)?Ze[e.name]:"predicate returns truthy for all values";throw new TypeError(Xe(r,t))}},any:function(e,...t){if(!u(e,...t)){const r=(l(e)?e:[e]).map((e=>rt(e.name)?Ze[e.name]:"predicate returns truthy for any value"));throw new TypeError(Xe(r,t))}},array:function(e,t){if(!l(e))throw new TypeError(Ge("Array",e));t&&e.forEach(t)},arrayBuffer:function(e){if(!d(e))throw new TypeError(Ge("ArrayBuffer",e))},arrayLike:function(e){if(!p(e))throw new TypeError(Ge("array-like",e))},asyncFunction:function(e){if(!f(e))throw new TypeError(Ge("AsyncFunction",e))},asyncGenerator:function(e){if(!m(e))throw new TypeError(Ge("AsyncGenerator",e))},asyncGeneratorFunction:function(e){if(!y(e))throw new TypeError(Ge("AsyncGeneratorFunction",e))},asyncIterable:function(e){if(!g(e))throw new TypeError(Ge("AsyncIterable",e))},bigint:function(e){if(!w(e))throw new TypeError(Ge("bigint",e))},bigInt64Array:function(e){if(!_(e))throw new TypeError(Ge("BigInt64Array",e))},bigUint64Array:function(e){if(!b(e))throw new TypeError(Ge("BigUint64Array",e))},blob:function(e){if(!v(e))throw new TypeError(Ge("Blob",e))},boolean:function(e){if(!E(e))throw new TypeError(Ge("boolean",e))},boundFunction:function(e){if(!S(e))throw new TypeError(Ge("Function",e))},buffer:function(e){if(!T(e))throw new TypeError(Ge("Buffer",e))},class:st,class_:st,dataView:function(e){if(!k(e))throw new TypeError(Ge("DataView",e))},date:function(e){if(!C(e))throw new TypeError(Ge("Date",e))},directInstanceOf:function(e,t){if(!O(e,t))throw new TypeError(Ge("T",e))},domElement:ot,emptyArray:function(e){if(!A(e))throw new TypeError(Ge("empty array",e))},emptyMap:function(e){if(!R(e))throw new TypeError(Ge("empty map",e))},emptyObject:function(e){if(!P(e))throw new TypeError(Ge("empty object",e))},emptySet:function(e){if(!j(e))throw new TypeError(Ge("empty set",e))},emptyString:function(e){if(!H(e))throw new TypeError(Ge("empty string",e))},emptyStringOrWhitespace:function(e){if(!N(e))throw new TypeError(Ge("empty string or whitespace",e))},enumCase:function(e,t){if(!I(e,t))throw new TypeError(Ge("EnumCase",e))},error:function(e){if(!L(e))throw new TypeError(Ge("Error",e))},evenInteger:function(e){if(!q(e))throw new TypeError(Ge("even integer",e))},falsy:function(e){if(!U(e))throw new TypeError(Ge("falsy",e))},float32Array:function(e){if(!$(e))throw new TypeError(Ge("Float32Array",e))},float64Array:function(e){if(!D(e))throw new TypeError(Ge("Float64Array",e))},formData:function(e){if(!z(e))throw new TypeError(Ge("FormData",e))},function:nt,function_:nt,generator:function(e){if(!M(e))throw new TypeError(Ge("Generator",e))},generatorFunction:function(e){if(!F(e))throw new TypeError(Ge("GeneratorFunction",e))},htmlElement:ot,infinite:function(e){if(!J(e))throw new TypeError(Ge("infinite number",e))},inRange:function(e,t){if(!K(e,t))throw new TypeError(Ge("in range",e))},int16Array:function(e){if(!Q(e))throw new TypeError(Ge("Int16Array",e))},int32Array:function(e){if(!X(e))throw new TypeError(Ge("Int32Array",e))},int8Array:function(e){if(!Y(e))throw new TypeError(Ge("Int8Array",e))},integer:function(e){if(!Z(e))throw new TypeError(Ge("integer",e))},iterable:function(e){if(!ee(e))throw new TypeError(Ge("Iterable",e))},map:function(e){if(!te(e))throw new TypeError(Ge("Map",e))},nan:function(e){if(!re(e))throw new TypeError(Ge("NaN",e))},nativePromise:function(e){if(!se(e))throw new TypeError(Ge("native Promise",e))},negativeNumber:function(e){if(!ne(e))throw new TypeError(Ge("negative number",e))},nodeStream:function(e){if(!oe(e))throw new TypeError(Ge("Node.js Stream",e))},nonEmptyArray:function(e){if(!ie(e))throw new TypeError(Ge("non-empty array",e))},nonEmptyMap:function(e){if(!ae(e))throw new TypeError(Ge("non-empty map",e))},nonEmptyObject:function(e){if(!ce(e))throw new TypeError(Ge("non-empty object",e))},nonEmptySet:function(e){if(!he(e))throw new TypeError(Ge("non-empty set",e))},nonEmptyString:function(e){if(!ue(e))throw new TypeError(Ge("non-empty string",e))},nonEmptyStringAndNotWhitespace:function(e){if(!le(e))throw new TypeError(Ge("non-empty string and not whitespace",e))},null:it,null_:it,nullOrUndefined:function(e){if(!pe(e))throw new TypeError(Ge("null or undefined",e))},number:function(e){if(!fe(e))throw new TypeError(Ge("number",e))},numericString:function(e){if(!me(e))throw new TypeError(Ge("string with a number",e))},object:function(e){if(!ye(e))throw new TypeError(Ge("Object",e))},observable:function(e){if(!ge(e))throw new TypeError(Ge("Observable",e))},oddInteger:function(e){if(!we(e))throw new TypeError(Ge("odd integer",e))},plainObject:function(e){if(!_e(e))throw new TypeError(Ge("plain object",e))},positiveNumber:function(e){if(!be(e))throw new TypeError(Ge("positive number",e))},primitive:function(e){if(!ve(e))throw new TypeError(Ge("primitive",e))},promise:function(e){if(!Ee(e))throw new TypeError(Ge("Promise",e))},propertyKey:function(e){if(!Se(e))throw new TypeError(Ge("PropertyKey",e))},regExp:function(e){if(!Te(e))throw new TypeError(Ge("RegExp",e))},safeInteger:function(e){if(!xe(e))throw new TypeError(Ge("integer",e))},set:function(e){if(!ke(e))throw new TypeError(Ge("Set",e))},sharedArrayBuffer:function(e){if(!Ce(e))throw new TypeError(Ge("SharedArrayBuffer",e))},string:function(e){if(!Oe(e))throw new TypeError(Ge("string",e))},symbol:function(e){if(!Ae(e))throw new TypeError(Ge("symbol",e))},truthy:function(e){if(!Re(e))throw new TypeError(Ge("truthy",e))},tupleLike:function(e,t){if(!Pe(e,t))throw new TypeError(Ge("tuple-like",e))},typedArray:function(e){if(!je(e))throw new TypeError(Ge("TypedArray",e))},uint16Array:function(e){if(!He(e))throw new TypeError(Ge("Uint16Array",e))},uint32Array:function(e){if(!Ne(e))throw new TypeError(Ge("Uint32Array",e))},uint8Array:function(e){if(!Ie(e))throw new TypeError(Ge("Uint8Array",e))},uint8ClampedArray:function(e){if(!Le(e))throw new TypeError(Ge("Uint8ClampedArray",e))},undefined:function(e){if(!qe(e))throw new TypeError(Ge("undefined",e))},urlInstance:function(e){if(!Ue(e))throw new TypeError(Ge("URL",e))},urlSearchParams:function(e){if(!$e(e))throw new TypeError(Ge("URLSearchParams",e))},urlString:function(e){if(!De(e))throw new TypeError(Ge("string with a URL",e))},validLength:function(e){if(!ze(e))throw new TypeError(Ge("valid length",e))},weakMap:function(e){if(!Be(e))throw new TypeError(Ge("WeakMap",e))},weakRef:function(e){if(!Me(e))throw new TypeError(Ge("WeakRef",e))},weakSet:function(e){if(!Fe(e))throw new TypeError(Ge("WeakSet",e))},whitespaceString:function(e){if(!We(e))throw new TypeError(Ge("whitespace string",e))}},Ze={isArray:"Array",isArrayBuffer:"ArrayBuffer",isArrayLike:"array-like",isAsyncFunction:"AsyncFunction",isAsyncGenerator:"AsyncGenerator",isAsyncGeneratorFunction:"AsyncGeneratorFunction",isAsyncIterable:"AsyncIterable",isBigint:"bigint",isBigInt64Array:"BigInt64Array",isBigUint64Array:"BigUint64Array",isBlob:"Blob",isBoolean:"boolean",isBoundFunction:"Function",isBuffer:"Buffer",isClass:"Class",isDataView:"DataView",isDate:"Date",isDirectInstanceOf:"T",isDomElement:"HTMLElement",isEmptyArray:"empty array",isEmptyMap:"empty map",isEmptyObject:"empty object",isEmptySet:"empty set",isEmptyString:"empty string",isEmptyStringOrWhitespace:"empty string or whitespace",isEnumCase:"EnumCase",isError:"Error",isEvenInteger:"even integer",isFalsy:"falsy",isFloat32Array:"Float32Array",isFloat64Array:"Float64Array",isFormData:"FormData",isFunction:"Function",isGenerator:"Generator",isGeneratorFunction:"GeneratorFunction",isHtmlElement:"HTMLElement",isInfinite:"infinite number",isInRange:"in range",isInt16Array:"Int16Array",isInt32Array:"Int32Array",isInt8Array:"Int8Array",isInteger:"integer",isIterable:"Iterable",isMap:"Map",isNan:"NaN",isNativePromise:"native Promise",isNegativeNumber:"negative number",isNodeStream:"Node.js Stream",isNonEmptyArray:"non-empty array",isNonEmptyMap:"non-empty map",isNonEmptyObject:"non-empty object",isNonEmptySet:"non-empty set",isNonEmptyString:"non-empty string",isNonEmptyStringAndNotWhitespace:"non-empty string and not whitespace",isNull:"null",isNullOrUndefined:"null or undefined",isNumber:"number",isNumericString:"string with a number",isObject:"Object",isObservable:"Observable",isOddInteger:"odd integer",isPlainObject:"plain object",isPositiveNumber:"positive number",isPrimitive:"primitive",isPromise:"Promise",isPropertyKey:"PropertyKey",isRegExp:"RegExp",isSafeInteger:"integer",isSet:"Set",isSharedArrayBuffer:"SharedArrayBuffer",isString:"string",isSymbol:"symbol",isTruthy:"truthy",isTupleLike:"tuple-like",isTypedArray:"TypedArray",isUint16Array:"Uint16Array",isUint32Array:"Uint32Array",isUint8Array:"Uint8Array",isUint8ClampedArray:"Uint8ClampedArray",isUndefined:"undefined",isUrlInstance:"URL",isUrlSearchParams:"URLSearchParams",isUrlString:"string with a URL",isValidLength:"valid length",isWeakMap:"WeakMap",isWeakRef:"WeakRef",isWeakSet:"WeakSet",isWhitespaceString:"whitespace string"};const et=(tt=Ze,Object.keys(tt));var tt;function rt(e){return et.includes(e)}function st(e){if(!x(e))throw new TypeError(Ge("Class",e))}function nt(e){if(!B(e))throw new TypeError(Ge("Function",e))}function ot(e){if(!G(e))throw new TypeError(Ge("HTMLElement",e))}function it(e){if(!de(e))throw new TypeError(Ge("null",e))}const at=a,ct=e(import.meta.url)("node:events");class ht extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}const ut=Object.freeze({pending:Symbol("pending"),canceled:Symbol("canceled"),resolved:Symbol("resolved"),rejected:Symbol("rejected")});class lt{static fn(e){return(...t)=>new lt(((r,s,n)=>{t.push(n),e(...t).then(r,s)}))}#e=[];#t=!0;#r=ut.pending;#s;#n;constructor(e){this.#s=new Promise(((t,r)=>{this.#n=r;const s=e=>{if(this.#r!==ut.pending)throw new Error(`The \`onCancel\` handler was attached after the promise ${this.#r.description}.`);this.#e.push(e)};Object.defineProperties(s,{shouldReject:{get:()=>this.#t,set:e=>{this.#t=e}}}),e((e=>{this.#r===ut.canceled&&s.shouldReject||(t(e),this.#o(ut.resolved))}),(e=>{this.#r===ut.canceled&&s.shouldReject||(r(e),this.#o(ut.rejected))}),s)}))}then(e,t){return this.#s.then(e,t)}catch(e){return this.#s.catch(e)}finally(e){return this.#s.finally(e)}cancel(e){if(this.#r===ut.pending){if(this.#o(ut.canceled),this.#e.length>0)try{for(const e of this.#e)e()}catch(e){return void this.#n(e)}this.#t&&this.#n(new ht(e))}}get isCanceled(){return this.#r===ut.canceled}#o(e){this.#r===ut.pending&&(this.#r=e)}}Object.setPrototypeOf(lt.prototype,Promise.prototype);class dt extends Error{input;code;stack;response;request;timings;constructor(e,t,r){var s;if(super(e,{cause:t}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=t.code??"ERR_GOT_REQUEST_ERROR",this.input=t.input,s=r,at.object(s)&&"_onResponse"in s?(Object.defineProperty(this,"request",{enumerable:!1,value:r}),Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),this.options=r.options):this.options=r,this.timings=this.request?.timings,at.string(t.stack)&&at.string(this.stack)){const e=this.stack.indexOf(this.message)+this.message.length,r=this.stack.slice(e).split("\n").reverse(),s=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split("\n").reverse();for(;s.length>0&&s[0]===r[0];)r.shift();this.stack=`${this.stack.slice(0,e)}${r.reverse().join("\n")}${s.reverse().join("\n")}`}}}class pt extends dt{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}}class ft extends dt{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}}class mt extends dt{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_CACHE_ACCESS":this.code}}class yt extends dt{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_UPLOAD":this.code}}class gt extends dt{timings;event;constructor(e,t,r){super(e.message,e,r),this.name="TimeoutError",this.event=e.event,this.timings=t}}class wt extends dt{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_READING_RESPONSE_STREAM":this.code}}class _t extends dt{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}}class bt extends dt{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}}const vt=e(import.meta.url)("node:process"),Et=e(import.meta.url)("node:buffer"),St=e(import.meta.url)("node:stream"),Tt=e(import.meta.url)("node:http");var xt=s(434),kt=s(23),Ct=s(559);const Ot=e=>{if(e.timings)return e.timings;const t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;const r=e=>{e.once(xt.errorMonitor,(()=>{t.error=Date.now(),t.phases.total=t.error-t.start}))};r(e);const s=()=>{t.abort=Date.now(),t.phases.total=t.abort-t.start};e.prependOnceListener("abort",s);const n=e=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,kt.types.isProxy(e))return;const r=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};e.prependOnceListener("lookup",r),Ct(e,{connect:()=>{t.connect=Date.now(),void 0===t.lookup&&(e.removeListener("lookup",r),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?n(e.socket):e.prependOnceListener("socket",n);const o=()=>{t.upload=Date.now(),t.phases.request=t.upload-(t.secureConnect??t.connect)};return e.writableFinished?o():e.prependOnceListener("finish",o),e.prependOnceListener("response",(n=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,n.timings=t,r(n),n.prependOnceListener("end",(()=>{e.off("abort",s),n.off("aborted",s),t.phases.total||(t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start)})),n.prependOnceListener("aborted",s)})),t},At=e(import.meta.url)("node:url"),Rt=e(import.meta.url)("node:crypto"),Pt=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e)),jt=new Set(["https:","http:","file:"]);function Ht(e,t){if("string"!=typeof(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t}).defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:s,data:n,hash:o}=r.groups;const i=s.split(";");o=t?"":o;let a=!1;"base64"===i[i.length-1]&&(i.pop(),a=!0);const c=i.shift()?.toLowerCase()??"",h=i.map((e=>{let[t,r=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(r=r.toLowerCase(),"us-ascii"===r)?"":`${t}${r?`=${r}`:""}`})).filter(Boolean),u=[...h];return a&&u.push("base64"),(u.length>0||c&&"text/plain"!==c)&&u.unshift(c),`data:${u.join(";")},${a?n.trim():n}${o?`#${o}`:""}`})(e,t);if((e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!jt.has(t)}catch{return!1}})(e))return e;const r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===s.protocol&&(s.protocol="http:"),t.forceHttps&&"http:"===s.protocol&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0,r="";for(;;){const n=e.exec(s.pathname);if(!n)break;const o=n[0],i=n.index;r+=s.pathname.slice(t,i).replace(/\/{2,}/g,"/"),r+=o,t=i+o.length}r+=s.pathname.slice(t,s.pathname.length).replace(/\/{2,}/g,"/"),s.pathname=r}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=s.pathname.split("/");const r=e[e.length-1];Pt(r,t.removeDirectoryIndex)&&(e=e.slice(0,-1),s.pathname=e.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const e of[...s.searchParams.keys()])Pt(e,t.removeQueryParameters)&&s.searchParams.delete(e);if(Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(s.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const e of[...s.searchParams.keys()])Pt(e,t.keepQueryParameters)||s.searchParams.delete(e);if(t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,"")),t.removeExplicitPort&&s.port&&(s.port="");const n=e;return e=s.toString(),t.removeSingleSlash||"/"!==s.pathname||n.endsWith("/")||""!==s.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===s.pathname)&&""===s.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var Nt=s(984),It=s(577);function Lt(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e.toLowerCase(),t])))}class qt extends St.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:t,body:r,url:s}){if("number"!=typeof e)throw new TypeError("Argument `statusCode` should be a number");if("object"!=typeof t)throw new TypeError("Argument `headers` should be an object");if(!(r instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if("string"!=typeof s)throw new TypeError("Argument `url` should be a string");super({read(){this.push(r),this.push(null)}}),this.statusCode=e,this.headers=Lt(t),this.body=r,this.url=s}}var Ut=s(15);const $t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];class Dt extends Error{constructor(e){super(e.message),Object.assign(this,e)}}class zt extends Error{constructor(e){super(e.message),Object.assign(this,e)}}const Bt=Object.entries,Mt=e=>{const t=new St.PassThrough({autoDestroy:!1});return function(e,t){if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");const r=new Set([...Object.keys(e),...$t]),s={};for(const n of r)n in t||(s[n]={get(){const t=e[n];return"function"==typeof t?t.bind(e):t},set(t){e[n]=t},enumerable:!0,configurable:!1});Object.defineProperties(t,s),e.once("aborted",(()=>{t.destroy(),t.emit("aborted")})),e.once("close",(()=>{e.complete&&t.readable?t.once("end",(()=>{t.emit("close")})):t.emit("close")}))}(e,t),e.pipe(t)},Ft=e=>{const t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t},Wt=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Vt=e=>{const t=[];for(const r of Object.keys(e))t[r.toLowerCase()]=e[r];return t},Gt=class{constructor(e,t){this.hooks=new Map,this.request=()=>(e,t)=>{let r;if("string"==typeof e)r=Wt(At.parse(e)),e={};else if(e instanceof At.URL)r=Wt(At.parse(e.toString())),e={};else{const[t,...s]=(e.path??"").split("?"),n=s.length>0?`?${s.join("?")}`:"";r=Wt({...e,pathname:t,search:n})}(e={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...e,...Ft(r)}).headers=Object.fromEntries(Bt(e.headers).map((([e,t])=>[e.toLowerCase(),t])));const s=new ct,n=Ht(At.format(r),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1});let o=`${e.method}:${n}`;e.body&&void 0!==e.method&&["POST","PATCH","PUT"].includes(e.method)&&(e.body instanceof St.Readable?e.cache=!1:o+=`:${Rt.createHash("md5").update(e.body).digest("hex")}`);let i=!1,a=!1;const c=e=>{a=!0;let r=!1,n=()=>{};const c=new Promise((e=>{n=()=>{r||(r=!0,e())}})),h=async r=>{if(i){r.status=r.statusCode;const t=It.fromObject(i.cachePolicy).revalidatedPolicy(e,r);if(!t.modified){r.resume(),await new Promise((e=>{r.once("end",e)}));const e=Vt(t.policy.responseHeaders());(r=new qt({statusCode:i.statusCode,headers:e,body:i.body,url:i.url})).cachePolicy=t.policy,r.fromCache=!0}}let n;r.fromCache||(r.cachePolicy=new It(e,r,e),r.fromCache=!1),e.cache&&r.cachePolicy.storable()?(n=Mt(r),(async()=>{try{const t=Nt.buffer(r);await Promise.race([c,new Promise((e=>r.once("end",e))),new Promise((e=>r.once("close",e)))]);const s=await t;let n={url:r.url,statusCode:r.fromCache?i.statusCode:r.statusCode,body:s,cachePolicy:r.cachePolicy.toObject()},a=e.strictTtl?r.cachePolicy.timeToLive():void 0;if(e.maxTtl&&(a=a?Math.min(a,e.maxTtl):e.maxTtl),this.hooks.size>0)for(const e of this.hooks.keys())n=await this.runHook(e,n,r);await this.cache.set(o,n,a)}catch(e){s.emit("error",new zt(e))}})()):e.cache&&i&&(async()=>{try{await this.cache.delete(o)}catch(e){s.emit("error",new zt(e))}})(),s.emit("response",n??r),"function"==typeof t&&t(n??r)};try{const t=this.cacheRequest(e,h);t.once("error",n),t.once("abort",n),t.once("destroy",n),s.emit("request",t)}catch(e){s.emit("error",new Dt(e))}};return(async()=>{const r=async e=>{await Promise.resolve();const r=e.cache?await this.cache.get(o):void 0;if(void 0===r&&!e.forceRefresh)return void c(e);const n=It.fromObject(r.cachePolicy);if(n.satisfiesWithoutRevalidation(e)&&!e.forceRefresh){const e=Vt(n.responseHeaders()),o=new qt({statusCode:r.statusCode,headers:e,body:r.body,url:r.url});o.cachePolicy=n,o.fromCache=!0,s.emit("response",o),"function"==typeof t&&t(o)}else n.satisfiesWithoutRevalidation(e)&&Date.now()>=n.timeToLive()&&e.forceRefresh?(await this.cache.delete(o),e.headers=n.revalidationHeaders(e),c(e)):(i=r,e.headers=n.revalidationHeaders(e),c(e))},n=e=>s.emit("error",new zt(e));if(this.cache instanceof Ut){const e=this.cache;e.once("error",n),s.on("error",(()=>e.removeListener("error",n))),s.on("response",(()=>e.removeListener("error",n)))}try{await r(e)}catch(t){e.automaticFailover&&!a&&c(e),s.emit("error",new zt(t))}})(),s},this.addHook=(e,t)=>{this.hooks.has(e)||this.hooks.set(e,t)},this.removeHook=e=>this.hooks.delete(e),this.getHook=e=>this.hooks.get(e),this.runHook=async(e,...t)=>this.hooks.get(e)?.(...t),this.cache=t instanceof Ut?t:new Ut("string"==typeof t?{uri:t,namespace:"cacheable-request"}:{store:t,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}};var Jt=s(713);const Kt=async(e,{init:t,convertChunk:r,getSize:s,truncateChunk:n,addChunk:o,getFinalChunk:i,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{if(!Zt(e))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");const h=t();h.length=0;try{for await(const t of e){const e=r[er(t)](t,h);Xt({convertedChunk:e,state:h,getSize:s,truncateChunk:n,addChunk:o,maxBuffer:c})}return Qt({state:h,convertChunk:r,getSize:s,truncateChunk:n,addChunk:o,getFinalChunk:i,maxBuffer:c}),a(h)}catch(e){throw e.bufferedData=a(h),e}},Qt=({state:e,getSize:t,truncateChunk:r,addChunk:s,getFinalChunk:n,maxBuffer:o})=>{const i=n(e);void 0!==i&&Xt({convertedChunk:i,state:e,getSize:t,truncateChunk:r,addChunk:s,maxBuffer:o})},Xt=({convertedChunk:e,state:t,getSize:r,truncateChunk:s,addChunk:n,maxBuffer:o})=>{const i=r(e),a=t.length+i;if(a<=o)return void Yt(e,t,n,a);const c=s(e,o-t.length);throw void 0!==c&&Yt(c,t,n,o),new rr},Yt=(e,t,r,s)=>{t.contents=r(e,t,s),t.length=s},Zt=e=>"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator],er=e=>{const t=typeof e;if("string"===t)return"string";if("object"!==t||null===e)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";const r=tr.call(e);return"[object ArrayBuffer]"===r?"arrayBuffer":"[object DataView]"===r?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&"[object ArrayBuffer]"===tr.call(e.buffer)?"typedArray":"others"},{toString:tr}=Object.prototype;class rr extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}}const sr=()=>{},nr=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},or=e=>e.length;const ir=new TextEncoder,ar=e=>new Uint8Array(e),cr=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),hr=(e,t)=>{if(t<=e.byteLength)return e;const r=new ArrayBuffer(lr(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},ur=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;const r=new ArrayBuffer(t,{maxByteLength:lr(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},lr=e=>dr**Math.ceil(Math.log(e)/Math.log(dr)),dr=2,pr=()=>"resize"in ArrayBuffer.prototype,fr={init:()=>({contents:new ArrayBuffer(0)}),convertChunk:{string:e=>ir.encode(e),buffer:ar,arrayBuffer:ar,dataView:cr,typedArray:cr,others:nr},getSize:or,truncateChunk:(e,t)=>e.slice(0,t),addChunk:(e,{contents:t,length:r},s)=>{const n=pr()?ur(t,s):hr(t,s);return new Uint8Array(n).set(e,r),n},getFinalChunk:sr,finalize:({contents:e,length:t})=>pr()?e:e.slice(0,t)};async function mr(e,t){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return yr(await async function(e,t){return Kt(e,fr,t)}(e,t))}catch(e){throw void 0!==e.bufferedData&&(e.bufferedData=yr(e.bufferedData)),e}}const yr=e=>globalThis.Buffer.from(e);var gr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},wr=(e,t,r)=>(gr(e,t,"read from private field"),r?r.call(e):t.get(e)),_r=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},br=(e,t,r,s)=>(gr(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),vr=(e,t,r)=>(gr(e,t,"access private method"),r),Er=e=>"function"==typeof e,Sr=65536;function*Tr(e){if(e.byteLength<=Sr)return void(yield e);let t=0;for(;t<e.byteLength;){const r=Math.min(e.byteLength-t,Sr),s=e.buffer.slice(t,t+r);t+=s.byteLength,yield new Uint8Array(s)}}async function*xr(e){for await(const t of e)yield*Tr(t)}var kr=e=>{if((e=>Er(e[Symbol.asyncIterator]))(e))return xr(e);if(Er(e.getReader))return xr(async function*(e){const t=e.getReader();for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}(e));throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},Cr="abcdefghijklmnopqrstuvwxyz0123456789";var Or=e=>String(e).replace(/\r|\n/g,((e,t,r)=>"\r"===e&&"\n"!==r[t+1]||"\n"===e&&"\r"!==r[t-1]?"\r\n":e));function Ar(e){if("object"!==(e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase())(e))return!1;const t=Object.getPrototypeOf(e);if(null==t)return!0;return(t.constructor&&t.constructor.toString())===Object.toString()}function Rr(e,t){if("string"==typeof t)for(const[r,s]of Object.entries(e))if(t.toLowerCase()===r.toLowerCase())return s}var Pr,jr,Hr,Nr,Ir,Lr,qr,Ur,$r,Dr,zr,Br,Mr=e=>Boolean(e&&Er(e.constructor)&&"FormData"===e[Symbol.toStringTag]&&Er(e.append)&&Er(e.getAll)&&Er(e.entries)&&Er(e[Symbol.iterator])),Fr=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),Wr=e=>Boolean(e&&"object"==typeof e&&Er(e.constructor)&&"File"===e[Symbol.toStringTag]&&Er(e.stream)&&null!=e.name),Vr={enableAdditionalHeaders:!1},Gr={writable:!1,configurable:!1},Jr=class{constructor(e,t,r){if(_r(this,$r),_r(this,zr),_r(this,Pr,"\r\n"),_r(this,jr,void 0),_r(this,Hr,void 0),_r(this,Nr,"-".repeat(2)),_r(this,Ir,new TextEncoder),_r(this,Lr,void 0),_r(this,qr,void 0),_r(this,Ur,void 0),!Mr(e))throw new TypeError("Expected first argument to be a FormData instance.");let s;if(Ar(t)?r=t:s=t,s||(s=function(){let e=16,t="";for(;e--;)t+=Cr[36*Math.random()<<0];return t}()),"string"!=typeof s)throw new TypeError("Expected boundary argument to be a string.");if(r&&!Ar(r))throw new TypeError("Expected options argument to be an object.");br(this,qr,Array.from(e.entries())),br(this,Ur,{...Vr,...r}),br(this,jr,wr(this,Ir).encode(wr(this,Pr))),br(this,Hr,wr(this,jr).byteLength),this.boundary=`form-data-boundary-${s}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,br(this,Lr,wr(this,Ir).encode(`${wr(this,Nr)}${this.boundary}${wr(this,Nr)}${wr(this,Pr).repeat(2)}`));const n={"Content-Type":this.contentType},o=vr(this,zr,Br).call(this);var i;o&&(this.contentLength=o,n["Content-Length"]=o),this.headers=(i=Object.freeze(n),new Proxy(i,{get:(e,t)=>Rr(e,t),has:(e,t)=>void 0!==Rr(e,t)})),Object.defineProperties(this,{boundary:Gr,contentType:Gr,contentLength:Gr,headers:Gr})}*values(){for(const[e,t]of wr(this,qr)){const r=Wr(t)?t:wr(this,Ir).encode(Or(t));yield vr(this,$r,Dr).call(this,e,r),yield r,yield wr(this,jr)}yield wr(this,Lr)}async*encode(){for(const e of this.values())Wr(e)?yield*kr(e.stream()):yield*Tr(e)}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};Pr=new WeakMap,jr=new WeakMap,Hr=new WeakMap,Nr=new WeakMap,Ir=new WeakMap,Lr=new WeakMap,qr=new WeakMap,Ur=new WeakMap,$r=new WeakSet,Dr=function(e,t){let r="";if(r+=`${wr(this,Nr)}${this.boundary}${wr(this,Pr)}`,r+=`Content-Disposition: form-data; name="${Fr(e)}"`,Wr(t)&&(r+=`; filename="${Fr(t.name)}"${wr(this,Pr)}`,r+=`Content-Type: ${t.type||"application/octet-stream"}`),!0===wr(this,Ur).enableAdditionalHeaders){const e=Wr(t)?t.size:t.byteLength;null==e||isNaN(e)||(r+=`${wr(this,Pr)}Content-Length: ${e}`)}return wr(this,Ir).encode(`${r}${wr(this,Pr).repeat(2)}`)},zr=new WeakSet,Br=function(){let e=0;for(const[t,r]of wr(this,qr)){const s=Wr(r)?r:wr(this,Ir).encode(Or(r)),n=Wr(s)?s.size:s.byteLength;if(null==n||isNaN(n))return;e+=vr(this,$r,Dr).call(this,t,s).byteLength,e+=n,e+=wr(this,Hr)}return String(e+wr(this,Lr).byteLength)};const Kr=e(import.meta.url)("node:util");function Qr(e){return at.nodeStream(e)&&at.function_(e.getBoundary)}function Xr(e,t,r){const s={};for(const n of r){const r=(...e)=>{t.emit(n,...e)};s[n]=r,e.on(n,r)}return()=>{for(const[t,r]of Object.entries(s))e.off(t,r)}}const Yr=e(import.meta.url)("node:net");const Zr=Symbol("reentry"),es=()=>{};class ts extends Error{event;code;constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),this.event=t,this.name="TimeoutError",this.code="ETIMEDOUT"}}const rs=({attemptCount:e,retryOptions:t,error:r,retryAfter:s,computedValue:n})=>{if("RetryError"===r.name)return 1;if(e>t.limit)return 0;const o=t.methods.includes(r.options.method),i=t.errorCodes.includes(r.code),a=r.response&&t.statusCodes.includes(r.response.statusCode);if(!o||!i&&!a)return 0;if(r.response){if(s)return s>n?0:s;if(413===r.response.statusCode)return 0}const c=Math.random()*t.noise;return Math.min(2**(e-1)*1e3,t.backoffLimit)+c},ss=e(import.meta.url)("node:tls"),ns=e(import.meta.url)("node:https"),os=e(import.meta.url)("node:dns"),is=e(import.meta.url)("node:os"),{Resolver:as}=os.promises,cs=Symbol("cacheableLookupCreateConnection"),hs=Symbol("cacheableLookupInstance"),us=Symbol("expires"),ls="number"==typeof os.ALL,ds=e=>{if(!e||"function"!=typeof e.createConnection)throw new Error("Expected an Agent instance as the first argument")},ps=()=>{let e=!1,t=!1;for(const r of Object.values(is.networkInterfaces()))for(const s of r)if(!s.internal&&("IPv6"===s.family?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},fs=e=>e.catch((e=>{if("ENODATA"===e.code||"ENOTFOUND"===e.code||"ENOENT"===e.code)return[];throw e})),ms={ttl:!0},ys={all:!0},gs={all:!0,family:4},ws={all:!0,family:6};class _s{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:r=3600,errorTtl:s=.15,resolver:n=new as,lookup:o=os.lookup}={}){if(this.maxTtl=t,this.errorTtl=s,this._cache=e,this._resolver=n,this._dnsLookup=o&&(0,Kr.promisify)(o),this.stats={cache:0,query:0},this._resolver instanceof as?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,Kr.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,Kr.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=ps(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=r,r>0){const e=setInterval((()=>{this._hostnamesToFallback.clear()}),1e3*r);e.unref&&e.unref(),this._fallbackInterval=e}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if("function"==typeof t?(r=t,t={}):"number"==typeof t&&(t={family:t}),!r)throw new Error("Callback must be a function.");this.lookupAsync(e,t).then((e=>{t.all?r(null,e):r(null,e.address,e.family,e.expires,e.ttl,e.source)}),r)}async lookupAsync(e,t={}){"number"==typeof t&&(t={family:t});let r=await this.query(e);if(6===t.family){const e=r.filter((e=>6===e.family));t.hints&os.V4MAPPED&&(ls&&t.hints&os.ALL||0===e.length)?(e=>{for(const t of e)6!==t.family&&(t.address=`::ffff:${t.address}`,t.family=6)})(r):r=e}else 4===t.family&&(r=r.filter((e=>4===e.family)));if(t.hints&os.ADDRCONFIG){const{_iface:e}=this;r=r.filter((t=>6===t.family?e.has6:e.has4))}if(0===r.length){const t=new Error(`cacheableLookup ENOTFOUND ${e}`);throw t.code="ENOTFOUND",t.hostname=e,t}return t.all?r:r[0]}async query(e){let t="cache",r=await this._cache.get(e);if(r&&this.stats.cache++,!r){const s=this._pending[e];if(s)this.stats.cache++,r=await s;else{t="query";const s=this.queryAndCache(e);this._pending[e]=s,this.stats.query++;try{r=await s}finally{delete this._pending[e]}}}return r=r.map((e=>({...e,source:t}))),r}async _resolve(e){const[t,r]=await Promise.all([fs(this._resolve4(e,ms)),fs(this._resolve6(e,ms))]);let s=0,n=0,o=0;const i=Date.now();for(const e of t)e.family=4,e.expires=i+1e3*e.ttl,s=Math.max(s,e.ttl);for(const e of r)e.family=6,e.expires=i+1e3*e.ttl,n=Math.max(n,e.ttl);return o=t.length>0?r.length>0?Math.min(s,n):s:n,{entries:[...t,...r],cacheTtl:o}}async _lookup(e){try{const[t,r]=await Promise.all([fs(this._dnsLookup(e,gs)),fs(this._dnsLookup(e,ws))]);return{entries:[...t,...r],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,t,r){if(this.maxTtl>0&&r>0){r=1e3*Math.min(r,this.maxTtl),t[us]=Date.now()+r;try{await this._cache.set(e,t,r)}catch(e){this.lookupAsync=async()=>{const t=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw t.cause=e,t}}s=this._cache,Symbol.iterator in s&&this._tick(r)}var s}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,ys);let t=await this._resolve(e);0===t.entries.length&&this._dnsLookup&&(t=await this._lookup(e),0!==t.entries.length&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));const r=0===t.entries.length?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,r),t.entries}_tick(e){const t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout((()=>{this._nextRemovalTime=!1;let e=1/0;const t=Date.now();for(const[r,s]of this._cache){const n=s[us];t>=n?this._cache.delete(r):n<e&&(e=n)}e!==1/0&&this._tick(e-t)}),e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(ds(e),cs in e)throw new Error("CacheableLookup has been already installed");e[cs]=e.createConnection,e[hs]=this,e.createConnection=(t,r)=>("lookup"in t||(t.lookup=this.lookup),e[cs](t,r))}uninstall(e){if(ds(e),e[cs]){if(e[hs]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[cs],delete e[cs],delete e[hs]}}updateInterfaceInfo(){const{_iface:e}=this;this._iface=ps(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){e?this._cache.delete(e):this._cache.clear()}}var bs=s(716);const[vs,Es]=vt.versions.node.split(".").map(Number);const Ss=new Map;let Ts;const xs={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform:e=>"json"===e.request.options.responseType?e.body:JSON.parse(e.body),paginate({response:e}){const t=e.headers.link;if("string"!=typeof t||""===t.trim())return!1;const r=function(e){const t=[],r=e.split(",");for(const s of r){const[r,...n]=s.split(";"),o=r.trim();if("<"!==o[0]||">"!==o.at(-1))throw new Error(`Invalid format of the Link header reference: ${o}`);const i=o.slice(1,-1),a={};if(0===n.length)throw new Error(`Unexpected end of Link header parameters: ${n.join(";")}`);for(const t of n){const r=t.trim(),s=r.indexOf("=");if(-1===s)throw new Error(`Failed to parse Link header: ${e}`);const n=r.slice(0,s).trim(),o=r.slice(s+1).trim();a[n]=o}t.push({reference:i,parameters:a})}return t}(t),s=r.find((e=>"next"===e.parameters.rel||'"next"'===e.parameters.rel));return!!s&&{url:new URL(s.reference,e.url)}},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!1},ks=e=>{const t=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter((e=>"number"==typeof e));if(t.length>0)return Math.min(...t)},Cs=(e,t,r)=>{const s=e.hooks?.init;if(s)for(const e of s)e(t,r)};class Os{_unixOptions;_internals;_merging;_init;constructor(e,t,r){if(Ye.any([at.string,at.urlInstance,at.object,at.undefined],e),Ye.any([at.object,at.undefined],t),Ye.any([at.object,at.undefined],r),e instanceof Os||t instanceof Os)throw new TypeError("The defaults must be passed as the third argument");this._internals=(e=>{const{hooks:t,retry:r}=e,s={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...e.timeout},hooks:{init:[...t.init],beforeRequest:[...t.beforeRequest],beforeError:[...t.beforeError],beforeRedirect:[...t.beforeRedirect],beforeRetry:[...t.beforeRetry],afterResponse:[...t.afterResponse]},searchParams:e.searchParams?new URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return void 0!==s.url&&(s.prefixUrl=""),s})(r?._internals??r??xs),this._init=[...r?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(at.plainObject(e))try{this.merge(e),this.merge(t)}finally{this.url=e.url}else try{this.merge(t)}finally{if(void 0!==t?.url){if(void 0!==e)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");this.url=t.url}else void 0!==e&&(this.url=e)}}catch(e){throw e.options=this,e}}merge(e){if(e)if(e instanceof Os)for(const t of e._init)this.merge(t);else{e=(e=>{const{hooks:t,retry:r}=e,s={...e};return at.object(e.context)&&(s.context={...e.context}),at.object(e.cacheOptions)&&(s.cacheOptions={...e.cacheOptions}),at.object(e.https)&&(s.https={...e.https}),at.object(e.cacheOptions)&&(s.cacheOptions={...s.cacheOptions}),at.object(e.agent)&&(s.agent={...e.agent}),at.object(e.headers)&&(s.headers={...e.headers}),at.object(r)&&(s.retry={...r},at.array(r.errorCodes)&&(s.retry.errorCodes=[...r.errorCodes]),at.array(r.methods)&&(s.retry.methods=[...r.methods]),at.array(r.statusCodes)&&(s.retry.statusCodes=[...r.statusCodes])),at.object(e.timeout)&&(s.timeout={...e.timeout}),at.object(t)&&(s.hooks={...t},at.array(t.init)&&(s.hooks.init=[...t.init]),at.array(t.beforeRequest)&&(s.hooks.beforeRequest=[...t.beforeRequest]),at.array(t.beforeError)&&(s.hooks.beforeError=[...t.beforeError]),at.array(t.beforeRedirect)&&(s.hooks.beforeRedirect=[...t.beforeRedirect]),at.array(t.beforeRetry)&&(s.hooks.beforeRetry=[...t.beforeRetry]),at.array(t.afterResponse)&&(s.hooks.afterResponse=[...t.afterResponse])),at.object(e.pagination)&&(s.pagination={...e.pagination}),s})(e),Cs(this,e,this),Cs(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let t=!1;for(const r in e){if("mutableDefaults"===r||"handlers"===r)continue;if("url"===r)continue;if(!(r in this))throw new Error(`Unexpected option: ${r}`);const s=e[r];void 0!==s&&(this[r]=s,t=!0)}t&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){Ye.any([at.function_,at.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){Ye.plainObject(e);for(const t in e){if(!(t in this._internals.agent))throw new TypeError(`Unexpected agent option: ${t}`);Ye.any([at.object,at.undefined],e[t])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){Ye.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){Ye.plainObject(e);for(const t in e){if(!(t in this._internals.timeout))throw new Error(`Unexpected timeout option: ${t}`);Ye.any([at.number,at.undefined],e[t])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(Ye.any([at.string,at.urlInstance],e),""!==e){if((e=e.toString()).endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){const{href:t}=this._internals.url;this._internals.url.href=e+t.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}else this._internals.prefixUrl=""}get body(){return this._internals.body}set body(e){Ye.any([at.string,at.buffer,at.nodeStream,at.generator,at.asyncGenerator,Mr,at.undefined],e),at.nodeStream(e)&&Ye.truthy(e.readable),void 0!==e&&(Ye.undefined(this._internals.form),Ye.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){Ye.any([at.plainObject,at.undefined],e),void 0!==e&&(Ye.undefined(this._internals.body),Ye.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){void 0!==e&&(Ye.undefined(this._internals.body),Ye.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(Ye.any([at.string,at.urlInstance,at.undefined],e),void 0===e)return void(this._internals.url=void 0);if(at.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");const t=`${this.prefixUrl}${e.toString()}`,r=new URL(t);if(this._internals.url=r,"unix:"===r.protocol&&(r.href=`http://unix${r.pathname}${r.search}`),"http:"!==r.protocol&&"https:"!==r.protocol){const e=new Error(`Unsupported protocol: ${r.protocol}`);throw e.code="ERR_UNSUPPORTED_PROTOCOL",e}if(this._internals.username&&(r.username=this._internals.username,this._internals.username=""),this._internals.password&&(r.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(r.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),"unix"!==r.hostname)this._unixOptions=void 0;else{if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");const e=/(?<socketPath>.+?):(?<path>.+)/.exec(`${r.pathname}${r.search}`);if(e?.groups){const{socketPath:t,path:r}=e.groups;this._unixOptions={socketPath:t,path:r,host:""}}else this._unixOptions=void 0}}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(Ye.any([at.object,at.undefined],e),void 0===e)return void(this._internals.cookieJar=void 0);let{setCookie:t,getCookieString:r}=e;Ye.function_(t),Ye.function_(r),4===t.length&&0===r.length?(t=(0,Kr.promisify)(t.bind(e)),r=(0,Kr.promisify)(r.bind(e)),this._internals.cookieJar={setCookie:t,getCookieString:r}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){Ye.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){Ye.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(void 0===this._internals.searchParams&&(this._internals.searchParams=new URLSearchParams),this._internals.searchParams)}set searchParams(e){Ye.any([at.string,at.object,at.undefined],e);const t=this._internals.url;if(void 0===e)return this._internals.searchParams=void 0,void(t&&(t.search=""));const r=this.searchParams;let s;if(at.string(e))s=new URLSearchParams(e);else if(e instanceof URLSearchParams)s=e;else{!function(e){for(const t in e){const r=e[t];Ye.any([at.string,at.number,at.boolean,at.null_,at.undefined],r)}}(e),s=new URLSearchParams;for(const t in e){const n=e[t];null===n?s.append(t,""):void 0===n?r.delete(t):s.append(t,n)}}if(this._merging){for(const e of s.keys())r.delete(e);for(const[e,t]of s)r.append(e,t)}else t?t.search=r.toString():this._internals.searchParams=r}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){Ye.any([at.function_,at.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){Ye.any([at.object,at.boolean,at.undefined],e),this._internals.dnsCache=!0===e?Ts||(Ts=new _s,Ts):!1===e?void 0:e}get context(){return this._internals.context}set context(e){Ye.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){Ye.object(e);for(const t in e){if(!(t in this._internals.hooks))throw new Error(`Unexpected hook event: ${t}`);const r=t,s=e[r];if(Ye.any([at.array,at.undefined],s),s)for(const e of s)Ye.function_(e);if(this._merging)s&&this._internals.hooks[r].push(...s);else{if(!s)throw new Error(`Missing hook event: ${t}`);this._internals.hooks[t]=[...s]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){Ye.any([at.boolean,at.function_],e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){Ye.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){Ye.any([at.object,at.string,at.boolean,at.undefined],e),this._internals.cache=!0===e?Ss:!1===e?void 0:e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){Ye.boolean(e),this._internals.throwHttpErrors=e}get username(){const e=this._internals.url,t=e?e.username:this._internals.username;return decodeURIComponent(t)}set username(e){Ye.string(e);const t=this._internals.url,r=encodeURIComponent(e);t?t.username=r:this._internals.username=r}get password(){const e=this._internals.url,t=e?e.password:this._internals.password;return decodeURIComponent(t)}set password(e){Ye.string(e);const t=this._internals.url,r=encodeURIComponent(e);t?t.password=r:this._internals.password=r}get http2(){return this._internals.http2}set http2(e){Ye.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){Ye.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){Ye.plainObject(e),this._merging?Object.assign(this._internals.headers,Lt(e)):this._internals.headers=Lt(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){Ye.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(void 0!==e&&4!==e&&6!==e)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){Ye.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){Ye.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(Ye.plainObject(e),Ye.any([at.function_,at.undefined],e.calculateDelay),Ye.any([at.number,at.undefined],e.maxRetryAfter),Ye.any([at.number,at.undefined],e.limit),Ye.any([at.array,at.undefined],e.methods),Ye.any([at.array,at.undefined],e.statusCodes),Ye.any([at.array,at.undefined],e.errorCodes),Ye.any([at.number,at.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(const t in e)if(!(t in this._internals.retry))throw new Error(`Unexpected retry option: ${t}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};const{retry:t}=this._internals;t.methods=[...new Set(t.methods.map((e=>e.toUpperCase())))],t.statusCodes=[...new Set(t.statusCodes)],t.errorCodes=[...new Set(t.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){Ye.any([at.string,at.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){Ye.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){Ye.any([at.function_,at.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){Ye.plainObject(e),Ye.any([at.boolean,at.undefined],e.shared),Ye.any([at.number,at.undefined],e.cacheHeuristic),Ye.any([at.number,at.undefined],e.immutableMinTimeToLive),Ye.any([at.boolean,at.undefined],e.ignoreCargoCult);for(const t in e)if(!(t in this._internals.cacheOptions))throw new Error(`Cache option \`${t}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){Ye.plainObject(e),Ye.any([at.boolean,at.undefined],e.rejectUnauthorized),Ye.any([at.function_,at.undefined],e.checkServerIdentity),Ye.any([at.string,at.object,at.array,at.undefined],e.certificateAuthority),Ye.any([at.string,at.object,at.array,at.undefined],e.key),Ye.any([at.string,at.object,at.array,at.undefined],e.certificate),Ye.any([at.string,at.undefined],e.passphrase),Ye.any([at.string,at.buffer,at.array,at.undefined],e.pfx),Ye.any([at.array,at.undefined],e.alpnProtocols),Ye.any([at.string,at.undefined],e.ciphers),Ye.any([at.string,at.buffer,at.undefined],e.dhparam),Ye.any([at.string,at.undefined],e.signatureAlgorithms),Ye.any([at.string,at.undefined],e.minVersion),Ye.any([at.string,at.undefined],e.maxVersion),Ye.any([at.boolean,at.undefined],e.honorCipherOrder),Ye.any([at.number,at.undefined],e.tlsSessionLifetime),Ye.any([at.string,at.undefined],e.ecdhCurve),Ye.any([at.string,at.buffer,at.array,at.undefined],e.certificateRevocationLists);for(const t in e)if(!(t in this._internals.https))throw new Error(`HTTPS option \`${t}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(null===e)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Ye.any([at.string,at.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){Ye.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){Ye.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(void 0!==e){if("text"!==e&&"buffer"!==e&&"json"!==e)throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}else this._internals.responseType="text"}get pagination(){return this._internals.pagination}set pagination(e){Ye.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){Ye.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){Ye.any([at.number,at.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){Ye.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,t){return(0,Kr.inspect)(this._internals,t)}createNativeRequestOptions(){const e=this._internals;let t;t="https:"===e.url.protocol?e.http2?e.agent:e.agent.https:e.agent.http;const{https:r}=e;let{pfx:s}=r;return at.array(s)&&at.plainObject(s[0])&&(s=s.map((e=>({buf:e.buffer,passphrase:e.passphrase})))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:r.alpnProtocols,ca:r.certificateAuthority,cert:r.certificate,key:r.key,passphrase:r.passphrase,pfx:r.pfx,rejectUnauthorized:r.rejectUnauthorized,checkServerIdentity:r.checkServerIdentity??ss.checkServerIdentity,ciphers:r.ciphers,honorCipherOrder:r.honorCipherOrder,minVersion:r.minVersion,maxVersion:r.maxVersion,sigalgs:r.signatureAlgorithms,sessionTimeout:r.tlsSessionLifetime,dhparam:r.dhparam,ecdhCurve:r.ecdhCurve,crl:r.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:t,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?ks(e):void 0,h2session:e.h2session}}getRequestFunction(){const e=this._internals.url,{request:t}=this._internals;return!t&&e?this.getFallbackRequestFunction():t}getFallbackRequestFunction(){const e=this._internals.url;if(e){if("https:"===e.protocol){if(this._internals.http2){if(vs<15||15===vs&&Es<10){const e=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw e.code="EUNSUPPORTED",e}return bs.auto}return ns.request}return Tt.request}}freeze(){const e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}}const As=e=>{const{statusCode:t}=e,{followRedirect:r}=e.request.options,s="function"==typeof r?r(e):r;return t>=200&&t<=(s?299:399)||304===t};class Rs extends dt{constructor(e,t){const{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}}const Ps=(e,t,r,s)=>{const{rawBody:n}=e;try{if("text"===t)return n.toString(s);if("json"===t)return 0===n.length?"":r(n.toString(s));if("buffer"===t)return n}catch(t){throw new Rs(t,e)}throw new Rs({message:`Unknown body type '${t}'`,name:"Error"},e)};const js=function(e){return e.writable&&!e.writableEnded};function Hs(e){return"unix:"===e.protocol||"unix"===e.hostname}const Ns=at.string(vt.versions.brotli),Is=new Set(["GET","HEAD"]),Ls=new class{weakMap;map;constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,t){"object"==typeof e?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return"object"==typeof e?this.weakMap.get(e):this.map.get(e)}has(e){return"object"==typeof e?this.weakMap.has(e):this.map.has(e)}},qs=new Set([300,301,302,303,304,307,308]),Us=["socket","connect","continue","information","upgrade"],$s=()=>{};class Ds extends St.Duplex{["constructor"];_noPipe;options;response;requestUrl;redirectUrls;retryCount;_stopRetry;_downloadedSize;_uploadedSize;_stopReading;_pipedServerResponses;_request;_responseSize;_bodySize;_unproxyEvents;_isFromCache;_cannotHaveBody;_triggerRead;_cancelTimeouts;_removeListeners;_nativeResponse;_flushed;_aborted;_requestInitialized;constructor(e,t,r){super({autoDestroy:!1,highWaterMark:0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=$s,this._triggerRead=!1,this._cancelTimeouts=$s,this._removeListeners=$s,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=$s,this.on("pipe",(e=>{e?.headers&&Object.assign(this.options.headers,e.headers)})),this.on("newListener",(e=>{if("retry"===e&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")}));try{if(this.options=new Os(e,t,r),!this.options.url){if(""===this.options.prefixUrl)throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(e){const{options:t}=e;return t&&(this.options=t),void(this.flush=async()=>{this.flush=async()=>{},this.destroy(e)})}const{body:s}=this.options;if(at.nodeStream(s)&&s.once("error",(e=>{this._flushed?this._beforeError(new yt(e,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new yt(e,this))}})),this.options.signal){const e=()=>{this.destroy(new bt(this))};this.options.signal.aborted?e():(this.options.signal.addEventListener("abort",e),this._removeListeners=()=>{this.options.signal?.removeEventListener("abort",e)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed)return void this._request?.destroy();for(const e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;const{response:t,options:r}=this,s=this.retryCount+("RetryError"===e.name?0:1);this._stopReading=!0,e instanceof dt||(e=new dt(e.message,e,this));const n=e;(async()=>{if(t?.readable&&!t.rawBody&&!this._request?.socket?.destroyed){t.setEncoding(this.readableEncoding);await this._setRawBody(t)&&(t.body=t.rawBody.toString())}if(0!==this.listenerCount("retry")){let o;try{let e;t&&"retry-after"in t.headers&&(e=Number(t.headers["retry-after"]),Number.isNaN(e)?(e=Date.parse(t.headers["retry-after"])-Date.now(),e<=0&&(e=1)):e*=1e3);const i=r.retry;o=await i.calculateDelay({attemptCount:s,retryOptions:i,error:n,retryAfter:e,computedValue:rs({attemptCount:s,retryOptions:i,error:n,retryAfter:e,computedValue:i.maxRetryAfter??r.timeout.request??Number.POSITIVE_INFINITY})})}catch(e){return void this._error(new dt(e.message,e,this))}if(o){if(await new Promise((e=>{const t=setTimeout(e,o);this._stopRetry=()=>{clearTimeout(t),e()}})),this.destroyed)return;try{for(const e of this.options.hooks.beforeRetry)await e(n,this.retryCount+1)}catch(t){return void this._error(new dt(t.message,e,this))}if(this.destroyed)return;return this.destroy(),void this.emit("retry",this.retryCount+1,e,(e=>{const t=new Ds(r.url,e,r);return t.retryCount=this.retryCount+1,vt.nextTick((()=>{t.flush()})),t}))}}this._error(n)})()}_read(){this._triggerRead=!0;const{response:e}=this;if(e&&!this._stopReading){let t;for(e.readableLength&&(this._triggerRead=!1);null!==(t=e.read());){this._downloadedSize+=t.length;const e=this.downloadProgress;e.percent<1&&this.emit("downloadProgress",e),this.push(t)}}}_write(e,t,r){const s=()=>{this._writeRequest(e,t,r)};this._requestInitialized?s():this._jobs.push(s)}_final(e){const t=()=>{this._request&&!this._request.destroyed?this._request.end((t=>{this._request._writableState?.errored||(t||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(t))})):e()};this._requestInitialized?t():this._jobs.push(t)}_destroy(e,t){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){const{body:e}=this.options;at.nodeStream(e)&&e.destroy()}this._request&&this._request.destroy(),null===e||at.undefined(e)||e instanceof dt||(e=new dt(e.message,e,this)),t(e)}pipe(e,t){return e instanceof Tt.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,t)}unpipe(e){return e instanceof Tt.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){const{options:e}=this,{headers:t}=e,r=!at.undefined(e.form),s=!at.undefined(e.json),n=!at.undefined(e.body),o=Is.has(e.method)&&!("GET"===e.method&&e.allowGetBody);if(this._cannotHaveBody=o,r||s||n){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);const s=!at.string(t["content-type"]);if(n){if(Mr(e.body)){const r=new Jr(e.body);s&&(t["content-type"]=r.headers["Content-Type"]),"Content-Length"in r.headers&&(t["content-length"]=r.headers["Content-Length"]),e.body=r.encode()}Qr(e.body)&&s&&(t["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(r){s&&(t["content-type"]="application/x-www-form-urlencoded");const{form:r}=e;e.form=void 0,e.body=new URLSearchParams(r).toString()}else{s&&(t["content-type"]="application/json");const{json:r}=e;e.json=void 0,e.body=e.stringifyJson(r)}const i=await async function(e,t){return t&&"content-length"in t?Number(t["content-length"]):e?at.string(e)?Et.Buffer.byteLength(e):at.buffer(e)?e.length:Qr(e)?(0,Kr.promisify)(e.getLength.bind(e))():void 0:0}(e.body,e.headers);at.undefined(t["content-length"])&&at.undefined(t["transfer-encoding"])&&!o&&!at.undefined(i)&&(t["content-length"]=String(i))}"json"!==e.responseType||"accept"in e.headers||(e.headers.accept="application/json"),this._bodySize=Number(t["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;const{options:t}=this,{url:r}=t;this._nativeResponse=e,t.decompress&&(e=Jt(e));const s=e.statusCode,n=e;n.statusMessage=n.statusMessage??Tt.STATUS_CODES[s],n.url=t.url.toString(),n.requestUrl=this.requestUrl,n.redirectUrls=this.redirectUrls,n.request=this,n.isFromCache=this._nativeResponse.fromCache??!1,n.ip=this.ip,n.retryCount=this.retryCount,n.ok=As(n),this._isFromCache=n.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=n,e.once("end",(()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)})),e.once("error",(t=>{this._aborted=!0,e.destroy(),this._beforeError(new wt(t,this))})),e.once("aborted",(()=>{this._aborted=!0,this._beforeError(new wt({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))})),this.emit("downloadProgress",this.downloadProgress);const o=e.headers["set-cookie"];if(at.object(t.cookieJar)&&o){let e=o.map((async e=>t.cookieJar.setCookie(e,r.toString())));t.ignoreInvalidCookies&&(e=e.map((async e=>{try{await e}catch{}})));try{await Promise.all(e)}catch(e){return void this._beforeError(e)}}if(!this.isAborted){if(e.headers.location&&qs.has(s)){if("function"==typeof t.followRedirect?t.followRedirect(n):t.followRedirect){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=t.maxRedirects)return void this._beforeError(new pt(this));this._request=void 0;const o=new Os(void 0,void 0,this.options),i=303===s&&"GET"!==o.method&&"HEAD"!==o.method,a=307!==s&&308!==s,c=o.methodRewriting&&a;(i||c)&&(o.method="GET",o.body=void 0,o.json=void 0,o.form=void 0,delete o.headers["content-length"]);try{const t=Et.Buffer.from(e.headers.location,"binary").toString(),s=new URL(t,r);if(!Hs(r)&&Hs(s))return void this._beforeError(new dt("Cannot redirect to UNIX socket",{},this));s.hostname!==r.hostname||s.port!==r.port?("host"in o.headers&&delete o.headers.host,"cookie"in o.headers&&delete o.headers.cookie,"authorization"in o.headers&&delete o.headers.authorization,(o.username||o.password)&&(o.username="",o.password="")):(s.username=o.username,s.password=o.password),this.redirectUrls.push(s),o.prefixUrl="",o.url=s;for(const e of o.hooks.beforeRedirect)await e(o,n);this.emit("redirect",o,n),this.options=o,await this._makeRequest()}catch(e){return void this._beforeError(e)}return}}if(t.isStream&&t.throwHttpErrors&&!As(n))this._beforeError(new ft(n));else if(e.on("readable",(()=>{this._triggerRead&&this._read()})),this.on("resume",(()=>{e.resume()})),this.on("pause",(()=>{e.pause()})),e.once("end",(()=>{this.push(null)})),this._noPipe){await this._setRawBody()&&this.emit("response",e)}else{this.emit("response",e);for(const r of this._pipedServerResponses)if(!r.headersSent){for(const s in e.headers){const n=!t.decompress||"content-encoding"!==s,o=e.headers[s];n&&r.setHeader(s,o)}r.statusCode=s}}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{const t=await mr(e);if(!this.isAborted)return this.response.rawBody=t,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(e){this._beforeError(e)}}_onRequest(e){const{options:t}=this,{timeout:r,url:s}=t;Ot(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=function(e,t,r){if(Zr in e)return es;e[Zr]=!0;const s=[],{once:n,unhandleAll:o}=function(){const e=[];return{once(t,r,s){t.once(r,s),e.push({origin:t,event:r,fn:s})},unhandleAll(){for(const t of e){const{origin:e,event:r,fn:s}=t;e.removeListener(r,s)}e.length=0}}}(),i=(e,t,r)=>{const n=setTimeout(t,e,e,r);n.unref?.();const o=()=>{clearTimeout(n)};return s.push(o),o},{host:a,hostname:c}=r,h=(t,r)=>{e.destroy(new ts(t,r))},u=()=>{for(const e of s)e();o()};if(e.once("error",(t=>{if(u(),0===e.listenerCount("error"))throw t})),void 0!==t.request){const r=i(t.request,h,"request");n(e,"response",(e=>{n(e,"end",r)}))}if(void 0!==t.socket){const{socket:r}=t,n=()=>{h(r,"socket")};e.setTimeout(r,n),s.push((()=>{e.removeListener("timeout",n)}))}const l=void 0!==t.lookup,d=void 0!==t.connect,p=void 0!==t.secureConnect,f=void 0!==t.send;return(l||d||p||f)&&n(e,"socket",(s=>{const{socketPath:o}=e;if(s.connecting){const e=Boolean(o??0!==Yr.isIP(c??a??""));if(l&&!e&&void 0===s.address().address){const e=i(t.lookup,h,"lookup");n(s,"lookup",e)}if(d){const r=()=>i(t.connect,h,"connect");e?n(s,"connect",r()):n(s,"lookup",(e=>{null===e&&n(s,"connect",r())}))}p&&"https:"===r.protocol&&n(s,"connect",(()=>{const e=i(t.secureConnect,h,"secureConnect");n(s,"secureConnect",e)}))}if(f){const r=()=>i(t.send,h,"send");s.connecting?n(s,"connect",(()=>{n(e,"upload-complete",r())})):n(e,"upload-complete",r())}})),void 0!==t.response&&n(e,"upload-complete",(()=>{const r=i(t.response,h,"response");n(e,"response",r)})),void 0!==t.read&&n(e,"response",(e=>{const r=i(t.read,h,"read");n(e,"end",r)})),u}(e,r,s);const n=t.cache?"cacheableResponse":"response";e.once(n,(e=>{this._onResponse(e)})),e.once("error",(t=>{this._aborted=!0,e.destroy(),t=t instanceof ts?new gt(t,this.timings,this):new dt(t.message,t,this),this._beforeError(t)})),this._unproxyEvents=Xr(e,this,Us),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise(((t,r)=>{super.write(e,(e=>{e?r(e):t()}))}))}_sendBody(){const{body:e}=this.options,t=0===this.redirectUrls.length?this:this._request??this;at.nodeStream(e)?e.pipe(t):at.generator(e)||at.asyncGenerator(e)?(async()=>{try{for await(const t of e)await this._asyncWrite(t);super.end()}catch(e){this._beforeError(e)}})():at.undefined(e)?(this._cannotHaveBody||this._noPipe)&&t.end():(this._writeRequest(e,void 0,(()=>{})),t.end())}_prepareCache(e){if(!Ls.has(e)){const t=new Gt(((e,t)=>{const r=e._request(e,t);return at.promise(r)&&(r.once=(e,t)=>{if("error"===e)(async()=>{try{await r}catch(e){t(e)}})();else{if("abort"!==e)throw new Error(`Unknown HTTP2 promise event: ${e}`);(async()=>{try{(await r).once("abort",t)}catch{}})()}return r}),r}),e);Ls.set(e,t.request())}}async _createCacheableRequest(e,t){return new Promise(((r,s)=>{let n;Object.assign(t,function(e){const t={protocol:e.protocol,hostname:at.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return at.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}(e));const o=Ls.get(t.cache)(t,(async e=>{if(e._readableState.autoDestroy=!1,n){const t=()=>{e.req&&(e.complete=e.req.res.complete)};e.prependOnceListener("end",t),t(),(await n).emit("cacheableResponse",e)}r(e)}));o.once("error",s),o.once("request",(async e=>{n=e,r(n)}))}))}async _makeRequest(){const{options:e}=this,{headers:t,username:r,password:s}=e,n=e.cookieJar;for(const e in t)if(at.undefined(t[e]))delete t[e];else if(at.null_(t[e]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${e}\` header`);if(e.decompress&&at.undefined(t["accept-encoding"])&&(t["accept-encoding"]=Ns?"gzip, deflate, br":"gzip, deflate"),r||s){const e=Et.Buffer.from(`${r}:${s}`).toString("base64");t.authorization=`Basic ${e}`}if(n){const r=await n.getCookieString(e.url.toString());at.nonEmptyString(r)&&(t.cookie=r)}let o;e.prefixUrl="";for(const t of e.hooks.beforeRequest){const r=await t(e);if(!at.undefined(r)){o=()=>r;break}}o||(o=e.getRequestFunction());const i=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));const a=e.cache?this._createCacheableRequest:o;try{let t=a(i,this._requestOptions);at.promise(t)&&(t=await t),at.undefined(t)&&(t=e.getFallbackRequestFunction()(i,this._requestOptions),at.promise(t)&&(t=await t)),js(t)?this._onRequest(t):this.writable?(this.once("finish",(()=>{this._onResponse(t)})),this._sendBody()):this._onResponse(t)}catch(e){if(e instanceof zt)throw new mt(e,this);throw e}}async _error(e){try{if(e instanceof ft&&!this.options.throwHttpErrors);else for(const t of this.options.hooks.beforeError)e=await t(e)}catch(t){e=new dt(t.message,t,this)}this.destroy(e)}_writeRequest(e,t,r){this._request&&!this._request.destroyed&&this._request.write(e,t,(s=>{if(!s&&!this._request.destroyed){this._uploadedSize+=Et.Buffer.byteLength(e,t);const r=this.uploadProgress;r.percent<1&&this.emit("uploadProgress",r)}r(s)}))}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return e=this._responseSize?this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?1:0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return e=this._bodySize?this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?1:0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}}class zs extends dt{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}}const Bs=["request","response","redirect","uploadProgress","downloadProgress"];function Ms(e){let t,r,s;const n=new ct.EventEmitter,o=new lt(((i,a,c)=>{c((()=>{t.destroy()})),c.shouldReject=!1,c((()=>{a(new zs(t))}));const h=u=>{c((()=>{}));const l=e??new Ds(void 0,void 0,s);l.retryCount=u,l._noPipe=!0,t=l,l.once("response",(async e=>{const t=(e.headers["content-encoding"]??"").toLowerCase(),s="gzip"===t||"deflate"===t||"br"===t,{options:n}=l;if(s&&!n.decompress)e.body=e.rawBody;else try{e.body=Ps(e,n.responseType,n.parseJson,n.encoding)}catch(t){if(e.body=e.rawBody.toString(),As(e))return void l._beforeError(t)}try{const t=n.hooks.afterResponse;for(const[r,s]of t.entries())if(e=await s(e,(async e=>{throw n.merge(e),n.prefixUrl="",e.url&&(n.url=e.url),n.hooks.afterResponse=n.hooks.afterResponse.slice(0,r),new _t(l)})),!at.object(e)||!at.number(e.statusCode)||at.nullOrUndefined(e.body))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(e){return void l._beforeError(e)}r=e,As(e)?(l.destroy(),i(l.options.resolveBodyOnly?e.body:e)):l._beforeError(new ft(e))}));const d=e=>{if(o.isCanceled)return;const{options:t}=l;if(e instanceof ft&&!t.throwHttpErrors){const{response:t}=e;return l.destroy(),void i(l.options.resolveBodyOnly?t.body:t)}a(e)};l.once("error",d);const p=l.options?.body;l.once("retry",((t,r)=>{e=void 0;const n=l.options.body;if(p===n&&at.nodeStream(n))return r.message="Cannot retry with consumed body stream",void d(r);s=l.options,h(t)})),Xr(l,n,Bs),at.undefined(e)&&l.flush()};h(0)}));o.on=(e,t)=>(n.on(e,t),o),o.off=(e,t)=>(n.off(e,t),o);const i=e=>{const t=(async()=>{await o;const{options:t}=r.request;return Ps(r,e,t.parseJson,t.encoding)})();return Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)),t};return o.json=()=>{if(t.options){const{headers:e}=t.options;t.writableFinished||"accept"in e||(e.accept="application/json")}return i("json")},o.buffer=()=>i("buffer"),o.text=()=>i("text"),o}const Fs=async e=>new Promise((t=>{setTimeout(t,e)})),Ws=e=>at.function_(e),Vs=["get","post","put","patch","head","delete"],Gs=e=>{e={options:new Os(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});const t=(t,r,s=e.options)=>{const n=new Ds(t,r,s);let o;const i=e=>(n.options=e,n._noPipe=!e.isStream,n.flush(),e.isStream?n:(o||(o=Ms(n)),o));let a=0;const c=t=>{const r=(e.handlers[a++]??i)(t,c);if(at.promise(r)&&!n.options.isStream&&(o||(o=Ms(n)),r!==o)){const e=Object.getOwnPropertyDescriptors(o);for(const t in e)t in r&&delete e[t];Object.defineProperties(r,e),r.cancel=o.cancel}return r};return c(n.options)};t.extend=(...t)=>{const r=new Os(void 0,void 0,e.options),s=[...e.handlers];let n;for(const e of t)Ws(e)?(r.merge(e.defaults.options),s.push(...e.defaults.handlers),n=e.defaults.mutableDefaults):(r.merge(e),e.handlers&&s.push(...e.handlers),n=e.mutableDefaults);return Gs({options:r,handlers:s,mutableDefaults:Boolean(n)})};const r=async function*(r,s){let n=new Os(r,s,e.options);n.resolveBodyOnly=!1;const{pagination:o}=n;Ye.function_(o.transform),Ye.function_(o.shouldContinue),Ye.function_(o.filter),Ye.function_(o.paginate),Ye.number(o.countLimit),Ye.number(o.requestLimit),Ye.number(o.backoff);const i=[];let{countLimit:a}=o,c=0;for(;c<o.requestLimit;){0!==c&&await Fs(o.backoff);const e=await t(void 0,void 0,n),r=await o.transform(e),s=[];Ye.array(r);for(const e of r)if(o.filter({item:e,currentItems:s,allItems:i})){if(!o.shouldContinue({item:e,currentItems:s,allItems:i}))return;if(yield e,o.stackAllItems&&i.push(e),s.push(e),--a<=0)return}const h=o.paginate({response:e,currentItems:s,allItems:i});if(!1===h)return;h===e.request.options?n=e.request.options:(n.merge(h),Ye.any([at.urlInstance,at.undefined],h.url),void 0!==h.url&&(n.prefixUrl="",n.url=h.url)),c++}};(t.paginate=r).all=async(e,t)=>{const s=[];for await(const n of r(e,t))s.push(n);return s},t.paginate.each=r,t.stream=(e,r)=>t(e,{...r,isStream:!0});for(const e of Vs)t[e]=(r,s)=>t(r,{...s,method:e}),t.stream[e]=(r,s)=>t(r,{...s,method:e,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(t,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),t},Js=Gs({options:new Os,handlers:[],mutableDefaults:!1});const Ks=new function(e,t){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class r{constructor(e){this.env=e}send(e,t="GET"){e="string"==typeof e?{url:e}:e;let r=this.get;return"POST"===t&&(r=this.post),new Promise(((t,s)=>{r.call(this,e,((e,r,n)=>{e?s(e):t(r)}))}))}get(e){return this.send.call(this.env,e)}post(e){return this.send.call(this.env,e,"POST")}}return new class{constructor(e,t){this.name=e,this.http=new r(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,t),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(e,t=null){try{return JSON.parse(e)}catch{return t}}toStr(e,t=null){try{return JSON.stringify(e)}catch{return t}}getjson(e,t){let r=t;if(this.getdata(e))try{r=JSON.parse(this.getdata(e))}catch{}return r}setjson(e,t){try{return this.setdata(JSON.stringify(e),t)}catch{return!1}}getScript(e){return new Promise((t=>{this.get({url:e},((e,r,s)=>t(s)))}))}runScript(e,t){return new Promise((r=>{let s=this.getdata("@chavy_boxjs_userCfgs.httpapi");s=s?s.replace(/\n/g,"").trim():s;let n=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");n=n?1*n:20,n=t&&t.timeout?t.timeout:n;const[o,i]=s.split("@"),a={url:`http://${i}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:n},headers:{"X-Key":o,Accept:"*/*"}};this.post(a,((e,t,s)=>r(s)))})).catch((e=>this.logErr(e)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),r=this.fs.existsSync(e),s=!r&&this.fs.existsSync(t);if(!r&&!s)return{};{const s=r?e:t;try{return JSON.parse(this.fs.readFileSync(s))}catch(e){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),r=this.fs.existsSync(e),s=!r&&this.fs.existsSync(t),n=JSON.stringify(this.data);r?this.fs.writeFileSync(e,n):s?this.fs.writeFileSync(t,n):this.fs.writeFileSync(e,n)}}lodash_get(e,t,r){const s=t.replace(/\[(\d+)\]/g,".$1").split(".");let n=e;for(const e of s)if(n=Object(n)[e],void 0===n)return r;return n}lodash_set(e,t,r){return Object(e)!==e||(Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]),t.slice(0,-1).reduce(((e,r,s)=>Object(e[r])===e[r]?e[r]:e[r]=Math.abs(t[s+1])>>0==+t[s+1]?[]:{}),e)[t[t.length-1]]=r),e}getdata(e){let t=this.getval(e);if(/^@/.test(e)){const[,r,s]=/^@(.*?)\.(.*?)$/.exec(e),n=r?this.getval(r):"";if(n)try{const e=JSON.parse(n);t=e?this.lodash_get(e,s,""):t}catch(e){t=""}}return t}setdata(e,t){let r=!1;if(/^@/.test(t)){const[,s,n]=/^@(.*?)\.(.*?)$/.exec(t),o=this.getval(s),i=s?"null"===o?null:o||"{}":"{}";try{const t=JSON.parse(i);this.lodash_set(t,n,e),r=this.setval(JSON.stringify(t),s)}catch(t){const o={};this.lodash_set(o,n,e),r=this.setval(JSON.stringify(o),s)}}else r=this.setval(e,t);return r}getval(e){return this.isSurge()||this.isLoon()?$persistentStore.read(e):this.isQuanX()?$prefs.valueForKey(e):this.isNode()?(this.data=this.loaddata(),this.data[e]):this.data&&this.data[e]||null}setval(e,t){return this.isSurge()||this.isLoon()?$persistentStore.write(e,t):this.isQuanX()?$prefs.setValueForKey(e,t):this.isNode()?(this.data=this.loaddata(),this.data[t]=e,this.writedata(),!0):this.data&&this.data[t]||null}time(e,t=null){const r=t?new Date(t):new Date;let s={"M+":r.getMonth()+1,"d+":r.getDate(),"H+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in s)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[t]:("00"+s[t]).substr((""+s[t]).length)));return e}msg(t=e,r="",s="",n){const o=e=>{if(!e)return e;if("string"==typeof e)return this.isLoon()?e:this.isQuanX()?{"open-url":e}:this.isSurge()?{url:e}:void 0;if("object"==typeof e){if(this.isLoon()){return{openUrl:e.openUrl||e.url||e["open-url"],mediaUrl:e.mediaUrl||e["media-url"]}}if(this.isQuanX()){return{"open-url":e["open-url"]||e.url||e.openUrl,"media-url":e["media-url"]||e.mediaUrl}}if(this.isSurge()){return{url:e.url||e.openUrl||e["open-url"]}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(t,r,s,o(n)):this.isQuanX()&&$notify(t,r,s,o(n))),!this.isMuteLog){let e=["","==============📣系统通知📣=============="];e.push(t),r&&e.push(r),s&&e.push(s),console.log(e.join("\n")),this.logs=this.logs.concat(e)}}log(...e){e.length>0&&(this.logs=[...this.logs,...e]),console.log(e.join(this.logSeparator))}logErr(e,t){!this.isSurge()&&!this.isQuanX()&&!this.isLoon()?this.log("",`❗️${this.name}, 错误!`,e.stack):this.log("",`❗️${this.name}, 错误!`,e)}wait(e){return new Promise((t=>setTimeout(t,e)))}done(e={}){const t=((new Date).getTime()-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${t} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(e)}}(e,t)}("测试项目");!function(e){e=e.toUpperCase().trim();let t=["asda","asdasd"];process.env.envName&&(t=process.env.envName.indexOf("&")>-1?process.env.envName.split("&"):process.env.envName.indexOf("\n")>-1?process.env.envName.split("\n"):[process.env.envName]),JSON.stringify(process.env).indexOf("GITHUB")>-1&&console.log("请勿使用github action运行此脚本,无论你是从你自己的私库还是其他哪里拉取的源代码，都会导致我被封号\n"),
//!(async () => {
t=[...new Set(t.filter((e=>!!e)))],process.env.JD_DEBUG&&"false"===process.env.JD_DEBUG&&(console.log=()=>{}),console.log(`\n====================共${t.length}个任务=================\n`),console.log(`============脚本执行时间：${function(e){const t=e.getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2),n=("0"+e.getHours()).slice(-2),o=("0"+e.getMinutes()).slice(-2),i=("0"+e.getSeconds()).slice(-2);return`${t}/${r}/${s} ${n}:${o}:${i}`}(new Date((new Date).getTime()+60*(new Date).getTimezoneOffset()*1e3+288e5))}=============\n`);for(let e=0;e<t.length;e++)t[e]=t[e].replace(/[\u4e00-\u9fa5]/g,(e=>encodeURI(e)))}("SU_SHE");(async()=>{let e=await async function(e,t,r){return new Promise(((r,s)=>{try{Js(e,{method:t}).then((e=>{r(e.body)}),(e=>{console.log(e),s(e)}))}catch(e){s(e)}}))}("https://www.baidu.com","GET");console.log(e),Ks.done()})()})();